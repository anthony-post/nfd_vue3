(function(){"use strict";var e={595:function(e,t,a){var l=a(963),s=a(252);const i={class:"wrapper"};function c(e,t,a,l,c,o){const d=(0,s.up)("Vnavigation"),r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(d),(0,s.Wm)(r)])}var o=a(577);const d=e=>((0,s.dD)("data-v-73c33dcb"),e=e(),(0,s.Cn)(),e),r={class:"sidebar"},n={class:"navigation-wrp"},E=d((()=>(0,s._)("span",{class:"burger-button__line"},null,-1))),_=d((()=>(0,s._)("span",{class:"burger-button__line"},null,-1))),T=d((()=>(0,s._)("span",{class:"burger-button__line"},null,-1))),u=[E,_,T],p={class:"dropdown-nav"},m={class:"x-button"},C={class:"menu-wrp"},D={class:"menu"},h={class:"socialicons-list"},v={class:"langbutton-mobile"},b={class:"langbutton"};function g(e,t,a,i,c,d){const E=(0,s.up)("vicon"),_=(0,s.up)("router-link"),T=(0,s.up)("VLangButton");return(0,s.wg)(),(0,s.iD)("header",r,[(0,s._)("div",n,[(0,s._)("div",{class:"burger-button",onClick:t[0]||(t[0]=(...e)=>i.toggleNav&&i.toggleNav(...e))},u),(0,s.Wm)(l.uT,{name:"nav"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",p,[(0,s._)("div",m,[(0,s.Wm)(E,{"icon-id":"icon-x",width:"32",height:"32",onClick:i.toggleNav},null,8,["onClick"])]),(0,s._)("div",C,[(0,s._)("nav",null,[(0,s._)("ul",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.bmMenuList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"menu__item",key:e.id},[(0,s.Wm)(_,{class:"link",to:{name:e.link}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["to"])])))),128))])]),(0,s._)("ul",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.socialMediaList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"socialicons__item",key:e.id},[(0,s.Wm)(_,{class:"link",to:{name:e.link}},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{class:"icon_green","icon-id":e.iconId,width:e.width,height:e.height},null,8,["icon-id","width","height"])])),_:2},1032,["to"])])))),128))])]),(0,s._)("div",v,[(0,s.Wm)(T)])],512),[[l.F8,i.dropdownNav]])])),_:1})]),(0,s._)("div",b,[(0,s.Wm)(T)])])}var S=a(262);const R=["width","height"],I=["xlink:href"];function O(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("svg",{class:"icon",width:a.width,height:a.height},[(0,s._)("use",{"xlink:href":l.iconPath},null,8,I)],8,R)}var y=a(795),k={name:"v-icon",props:{iconId:{type:String,required:!0},width:{type:[Number,String],default:32},height:{type:[Number,String],default:32}},setup(e){const t=(0,s.Fl)((()=>`${y}#${e.iconId}`));return{iconPath:t}}},f=a(744);const A=(0,f.Z)(k,[["render",O]]);var w=A;function F(e,t,a,i,c,o){const d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(d,{class:"link",to:{name:""}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"link__langbutton link__langbutton_mobile",onClick:t[0]||(t[0]=(...e)=>i.toggleLangIcon&&i.toggleLangIcon(...e))}," Eng ")])),_:1},512),[[l.F8,i.langButton]]),(0,s.wy)((0,s.Wm)(d,{class:"link",to:{name:""}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"link__langbutton link__langbutton_mobile",onClick:t[1]||(t[1]=(...e)=>i.toggleLangIcon&&i.toggleLangIcon(...e))}," Рус ")])),_:1},512),[[l.F8,!i.langButton]])],64)}var L={name:"v-lang-button",setup(){const e=(0,S.iH)(!0);function t(){e.value=!e.value}return{langButton:e,toggleLangIcon:t}}};const G=(0,f.Z)(L,[["render",F]]);var H=G,M={name:"v-navigation",components:{Vicon:w,VLangButton:H},setup(){const e=[{id:1,title:"Парковка",link:""},{id:2,title:"Страховка",link:""},{id:3,title:"Бензин",link:""},{id:4,title:"Обслуживание",link:""}],t=[{id:1,iconId:"icon-telegram",width:"32",height:"32",link:""}],a=(0,S.iH)(!0),l=(0,S.iH)(null);function s(){l.value=!l.value,a.value=!a.value}return{burgerButton:a,dropdownNav:l,bmMenuList:e,socialMediaList:t,toggleNav:s}}};const P=(0,f.Z)(M,[["render",g],["__scopeId","data-v-73c33dcb"]]);var N=P,V={components:{Vnavigation:N}};const K=(0,f.Z)(V,[["render",c]]);var U=K,Y=a(119);const x={class:"main-wrp"},B={class:"left-wrp"},q={class:"about"},W=(0,s._)("h1",{class:"about__title"},"Каршеринг",-1),z=(0,s._)("p",{class:"about__title about__title_green"},"Need for drive",-1),j=(0,s._)("p",{class:"about__text"},"Поминутная аренда авто твоего города",-1),Z=(0,s._)("button",{class:"about__button"},"Забронировать",-1),$=(0,s._)("footer",{class:"footer"},[(0,s._)("p",{class:"footer__copyright"},"© 2016-2019 «Need for drive»"),(0,s._)("address",{class:"footer__phone"},[(0,s._)("a",{class:"footer__link",href:"tel:+74952342244"},"8 (495) 234-22-44")])],-1),X={class:"right-wrp"};function J(e,t,a,l,i,c){const o=(0,s.up)("Vheader"),d=(0,s.up)("router-link"),r=(0,s.up)("Vslider");return(0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("div",B,[(0,s.Wm)(o),(0,s._)("div",q,[W,z,j,(0,s.Wm)(d,{to:{name:"v-order"}},{default:(0,s.w5)((()=>[Z])),_:1})]),$]),(0,s._)("div",X,[(0,s.Wm)(r)])])}const Q={class:"header"},ee=(0,s._)("p",{class:"logo header__logo header__logo-order"},"Need for drive",-1),te={class:"header__map header__map-order"},ae=(0,s._)("span",null,"Ульяновск",-1);function le(e,t,a,l,i,c){const o=(0,s.up)("vicon"),d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",Q,[ee,(0,s._)("p",te,[(0,s.Wm)(d,{class:"city header__city",to:{name:""}},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{class:"header__icon","icon-id":"icon-map",width:"20",height:"20"}),ae])),_:1})])])}var se={name:"v-header",components:{Vicon:w}};const ie=(0,f.Z)(se,[["render",le]]);var ce=ie;const oe=e=>((0,s.dD)("data-v-4389019c"),e=e(),(0,s.Cn)(),e),de={class:"slider-wrp"},re={class:"slider-list"},ne=["index"],Ee={class:"slider-content"},_e={class:"slider-title"},Te={class:"slider-text"},ue=oe((()=>(0,s._)("span",{class:"sliderbtn__text"},"Подробнее",-1))),pe=[ue],me={class:"pagination-list"},Ce=["index"];function De(e,t,a,i,c,d){const r=(0,s.up)("router-link"),n=(0,s.up)("vicon");return(0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("ul",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sliderList,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,index:t},[(0,s.Wm)(l.uT,{name:i.slideDirection},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{class:"slider__item",style:(0,o.j5)(e)},[(0,s._)("div",Ee,[(0,s._)("p",_e,(0,o.zw)(e.title),1),(0,s._)("p",Te,(0,o.zw)(e.text),1),(0,s.Wm)(r,{to:{name:""}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:(0,o.C_)(["sliderbtn",{sliderbtn_insurance:2===e.id,sliderbtn_petrol:3===e.id,sliderbtn_service:4===e.id}])},pe,2)])),_:2},1024)])],4),[[l.F8,i.visibleSlide===t]])])),_:2},1032,["name"])],8,ne)))),128)),(0,s._)("div",{class:"arrow-wrp arrow-wrp_prev",onClick:t[0]||(t[0]=(...e)=>i.changeSlidePrev&&i.changeSlidePrev(...e))},[(0,s.Wm)(n,{class:"arrow-slide arrow-slide_prev","icon-id":"icon-arrow-slider-prev",width:"10",height:"20"})]),(0,s._)("div",{class:"arrow-wrp arrow-wrp_next",onClick:t[1]||(t[1]=(...e)=>i.changeSlideNext&&i.changeSlideNext(...e))},[(0,s.Wm)(n,{class:"arrow-slide arrow-slide_next","icon-id":"icon-arrow-slider-next",width:"10",height:"20"})]),(0,s._)("ul",me,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sliderList,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,o.C_)(["pagination__item",{pagination__item_active:i.visibleSlide===t}]),key:e.id,index:t},null,10,Ce)))),128))])])])}var he={name:"v-slider",components:{Vicon:w},setup(){const e={backgroundRepeat:"no-repeat",backgroundSize:"cover"},t=[{...e,backgroundImage:`url(${a(828)})`,title:"Бесплатная парковка",text:"Оставляйте машину на платных городских парковках и разрешенных местах, не нарушая ПДД, а также в аэропортах.",id:1},{...e,backgroundImage:`url(${a(715)})`,title:"Страховка",text:"Полная страховка страховка автомобиля",id:2},{...e,backgroundImage:`url(${a(983)})`,title:"Бензин",text:"Полный бак на любой заправке города за наш счёт",id:3},{...e,backgroundImage:`url(${a(849)})`,title:"Обслуживание",text:"Автомобиль проходит еженедельное ТО",id:4}],l=(0,S.iH)(0),s=(0,S.iH)("");function i(){l.value>0&&l.value--,s.value="right"}function c(){l.value<t.length-1&&l.value++,s.value="left"}return{sliderList:t,visibleSlide:l,slideDirection:s,changeSlidePrev:i,changeSlideNext:c}}};const ve=(0,f.Z)(he,[["render",De],["__scopeId","data-v-4389019c"]]);var be=ve,ge={name:"v-main",components:{Vheader:ce,Vslider:be}};const Se=(0,f.Z)(ge,[["render",J]]);var Re=Se;const Ie={class:"order-wrp"};function Oe(e,t,a,l,i,c){const o=(0,s.up)("Vheader"),d=(0,s.up)("OrderWindow");return(0,s.wg)(),(0,s.iD)("div",Ie,[(0,s.Wm)(o,{class:"order-center"}),(0,s.Wm)(d)])}const ye={class:"tabs"},ke={class:"order"},fe={class:"order__window"};function Ae(e,t,a,l,i,c){const o=(0,s.up)("VTabs"),d=(0,s.up)("VTotal");return(0,s.wg)(),(0,s.iD)("div",ye,[(0,s.Wm)(o,{tabs:l.filledUpData,selectedIndexTabs:l.selectedIndexTabs,selectedTab:l.selectedTab,onSwitchTab:l.updateSelectedTab},null,8,["tabs","selectedIndexTabs","selectedTab","onSwitchTab"]),(0,s._)("div",ke,[(0,s._)("div",fe,[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.selectedTab),{idTab:l.selectedTab,onOnTabReset:l.resetTabs},null,8,["idTab","onOnTabReset"]))]),(0,s.Wm)(d,{tabs:l.tabs,selectedId:l.selectedIndexTabs,selectedTab:l.selectedTab,onUpdateSelectedTab:l.updateSelectedTab},null,8,["tabs","selectedId","selectedTab","onUpdateSelectedTab"])])])}var we=a(907);const Fe={class:"tabs__border"},Le={class:"tab-list order-center"},Ge={class:"tab__item"},He=["disabled","onClick"],Me={class:"tab__item-icon"};function Pe(e,t,a,l,i,c){const d=(0,s.up)("Vicon");return(0,s.wg)(),(0,s.iD)("div",Fe,[(0,s._)("ul",Le,[(0,s._)("li",Ge,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tabs,(e=>((0,s.wg)(),(0,s.iD)("button",{class:(0,o.C_)(["tab__item-btn",{tab__item_active:a.selectedTab===e.id,tab__item_filled:a.selectedTab!==e.id&&!e.isDisabled}]),key:e.id,disabled:e.isDisabled,onClick:t=>l.switchTab(e.id)},[(0,s.Uk)((0,o.zw)(e.label)+" ",1),(0,s._)("span",Me,[(0,s.Wm)(d,{"icon-id":"icon-arrow",width:"6",height:"8"})])],10,He)))),128))])])])}var Ne={name:"v-tabs",components:{Vicon:w},props:{tabs:{type:Array,required:!1},selectedTab:{type:String,required:!1}},setup(e,t){function a(e){t.emit("switchTab",e)}return{switchTab:a}}};const Ve=(0,f.Z)(Ne,[["render",Pe]]);var Ke=Ve;const Ue={class:"input-block"},Ye=(0,s._)("p",{class:"place__text"},"Выбрать на карте",-1),xe={class:"map-wrp"};function Be(e,t,a,l,i,c){const d=(0,s.up)("VDropdown"),r=(0,s.up)("MapComponent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ue,[(0,s.Wm)(d,{label:"Город",name:"city",placeholder:"Начните вводить город ...",itemList:l.cityList,selectedItem:l.selectedCity,onOnItemSelected:l.setSelectedCity,onOnItemReset:l.resetSelectedCity},null,8,["itemList","selectedItem","onOnItemSelected","onOnItemReset"]),(0,s.Wm)(d,{label:"Пункт выдачи",name:"point",placeholder:"Начните вводить пункт ...",class:(0,o.C_)({input_blocked:l.isSelectedCity}),itemList:l.filteredPointList,selectedItem:l.selectedPoint,onOnItemSelected:l.setSelectedPoint,onOnItemReset:l.resetSelectedPoint},null,8,["class","itemList","selectedItem","onOnItemSelected","onOnItemReset"])]),Ye,(0,s._)("div",xe,[((0,s.wg)(),(0,s.j4)(r,{key:l.componentKey,chosenCityObj:l.chosenCityObj},null,8,["chosenCityObj"]))])])}const qe={class:"dropdown input-wrp"},We=["for"],ze=["name","placeholder"],je={class:"dropdown-list"},Ze=["onClick"];function $e(e,t,a,i,c,d){const r=(0,s.up)("vicon");return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("label",{class:"input-block__label",for:a.name},(0,o.zw)(a.label),9,We),(0,s.wy)((0,s._)("input",{class:"dropdown-input input-block__input","onUpdate:modelValue":t[0]||(t[0]=e=>i.inputValue=e),name:a.name,placeholder:a.placeholder,type:"text",autocomplete:"off",onFocus:t[1]||(t[1]=e=>i.isDropDownVisible=!0)},null,40,ze),[[l.nr,i.inputValue,void 0,{trim:!0}]]),i.inputValue?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"input-block__cross-icon",onClick:t[2]||(t[2]=(...e)=>i.resetSelection&&i.resetSelection(...e))},[(0,s.Wm)(r,{"icon-id":"icon-cross",width:"8",height:"8"})])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("ul",je,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"dropdown-item",key:e.id,onClick:t=>i.selectItem(e)},(0,o.zw)(e.name),9,Ze)))),128))],512),[[l.F8,i.isDropDownVisible]])])}var Xe={name:"v-dropdown",components:{Vicon:w},props:{itemList:{type:Array,required:!0},selectedItem:{type:Object,required:!0},placeholder:{type:String,required:!0},label:{type:String,required:!0},name:{type:String,required:!0}},setup(e,t){(0,s.bv)((()=>{0!==Object.keys(e.selectedItem).length?a.value=e.selectedItem.name:a.value=""})),(0,s.YP)((0,S.Vh)(e,"selectedItem"),(()=>{0===Object.keys(e.selectedItem).length&&(a.value="")}),{deep:!0});const a=(0,S.iH)(""),l=(0,S.iH)(null),i=(0,s.Fl)((()=>{let t=a.value.toLowerCase();return t?e.itemList.filter((e=>{if(e?.name){let a=e.name.toLowerCase();return a.startsWith(t)}})):e.itemList}));function c(e){a.value=e?e.name:"",l.value=!1,t.emit("on-item-selected",e)}function o(){a.value="",t.emit("on-item-reset")}return{inputValue:a,isDropDownVisible:l,filteredList:i,selectItem:c,resetSelection:o}}};const Je=(0,f.Z)(Xe,[["render",$e]]);var Qe=Je;const et={ref:"mapRef",style:{width:"100%",height:"100%"}};function tt(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("div",et,null,512)}var at={name:"map-component",props:{chosenCityObj:{type:Object}},setup(e){const t=(0,we.oR)(),l=window.ymaps,i=(0,S.iH)(null),c=(0,s.Fl)((()=>t.state.selectedCity)),o=(0,s.Fl)((()=>t.state.selectedPoint));function d(t){let s=[],i=null;if(0!==Object.keys(o.value).length){const t=e.chosenCityObj.points.find((e=>e.id===o.value.id));t&&(s=t.coordsPoint),i=15}else 0!==Object.keys(c.value).length?(s=e.chosenCityObj.coords,i=12):(s=[67.010134,94.337659],i=3);const d=new l.Map(t,{center:s,zoom:i,controls:[]});if(e.chosenCityObj?.points)for(let c=0;c<e.chosenCityObj.points.length;c++){const t=new l.Placemark(e.chosenCityObj.points[c].coordsPoint,{hintContent:e.chosenCityObj.points[c].name,balloonContent:e.chosenCityObj.points[c].name},{iconLayout:"default#image",iconImageHref:`${a(273)}`,iconImageSize:[18,18]});d.geoObjects.add(t)}}return(0,s.bv)((()=>{l.ready((()=>d(i.value)))})),{ymaps:l,mapRef:i,selectedCity:c,selectedPoint:o}}};const lt=(0,f.Z)(at,[["render",tt]]);var st=lt,it={name:"order-place",components:{VDropdown:Qe,MapComponent:st},props:["idTab"],setup(e,t){const a=(0,we.oR)(),l=[{id:"6011452fad015e0bb6997e1d",name:"Уфа",coords:[54.735152,55.958736]},{id:"60d6e4d32aed9a0b9b84fa82",name:"Краснодар",coords:[45.03547,38.975313]},{id:"6005b8f9ad015e0bb6997778",name:"Санкт-Петербург",coords:[59.939099,30.315877]},{id:"61a3675e05c99b2812794ed7",name:"Ростов-на-Дону",coords:[47.222078,39.720358]},{id:"61ab1310bb7a006c05c5497f",name:"Екатеринбург",coords:[56.838011,60.597474]},{id:"61b30fe9bb7a006c05c54e2b",name:"Ульяновск",coords:[54.314192,48.403132]},{id:"6238c42573b61100181018e1",name:"Омск",coords:[54.989347,73.368221]},{id:"615a1d1218f5c2264119b91a",name:"Саранск",coords:[54.187433,45.183938]},{id:"61585c3818f5c2264119b859",name:"Сочи",coords:[43.585472,39.723098]},{id:"6114e2a22aed9a0b9b85083e",name:"Воронеж",coords:[51.660786,39.200269]},{id:"5ea07c3b099b810b946c627b",name:"Саратов",coords:[51.533562,46.034266]}],i=[{id:"60bb074b2aed9a0b9b82fc71",name:"Арт-Квадрат",coords:[54.73995,55.95737]},{id:"6114630f2aed9a0b9b850806",name:"Автомобильная парковка",coords:[45.046319,39.030356]},{id:"615ae47018f5c2264119b939",name:"Пункт",coords:[59.935119,30.349339]},{id:"61a391e605c99b2812794f1c",name:"Администрация",coords:[47.221705,39.712156]},{id:"61adef6bbb7a006c05c54a8a",name:"Магнит",coords:[56.901277,60.585967]},{id:"61b310cfbb7a006c05c54e2c",name:"Мариинская гимназия",coords:[54.31228,48.395406]}],c=(0,S.iH)(0),o=(0,s.Fl)((()=>a.getters.FILTERED_POINTLIST)),d=(0,s.Fl)((()=>a.state.cityList)),r=(0,s.Fl)((()=>a.state.selectedCity)),n=(0,s.Fl)((()=>a.state.selectedPoint)),E=(0,s.Fl)((()=>{let e={};for(var t=0;t<l.length;t++)r.value.id===l[t].id&&(e={...r.value,coords:l[t].coords,points:_.value});return e})),_=(0,s.Fl)((()=>o.value.map((e=>{const t=i.find((t=>t.id===e.id));return t?{...e,coordsPoint:t.coords}:e})))),T=(0,s.Fl)((()=>0===Object.keys(r.value).length)),u=()=>{a.dispatch("GET_CITYLIST_FROM_API")},p=()=>{a.dispatch("GET_POINTLIST_FROM_API")},m=e=>{a.dispatch("GET_SELECTEDCITY",e)},C=()=>{a.dispatch("GET_SELECTEDCITY"),a.dispatch("GET_SELECTEDPOINT"),a.dispatch("GET_CHECKEDCATEGORY"),a.dispatch("GET_SELECTEDCAR"),a.dispatch("GET_CHECKEDCOLOR"),a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset",e.idTab)},D=e=>{a.dispatch("GET_SELECTEDPOINT",e)},h=()=>{a.dispatch("GET_SELECTEDPOINT"),a.dispatch("GET_CHECKEDCATEGORY"),a.dispatch("GET_SELECTEDCAR"),a.dispatch("GET_CHECKEDCOLOR"),a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset",e.idTab)},v=()=>{c.value+=1};return u(),p(),(0,s.YP)([r,n],(()=>{v()})),{cityListCoords:l,pointListCoords:i,componentKey:c,cityList:d,selectedCity:r,selectedPoint:n,filteredPointList:o,chosenCityObj:E,newPointListWithCoordsArr:_,isSelectedCity:T,setSelectedCity:m,resetSelectedCity:C,setSelectedPoint:D,resetSelectedPoint:h,getCityListFromApi:u,getPointListFromApi:p,forceRerenderMap:v}}};const ct=(0,f.Z)(it,[["render",Be]]);var ot=ct;const dt={class:"radio-list"},rt={class:"cars-list"},nt=["onClick"],Et={class:"cars__model"},_t={class:"cars__price"},Tt=["src","alt"];function ut(e,t,a,i,c,d){const r=(0,s.up)("VRadio"),n=(0,s.up)("Preloader"),E=(0,s.up)("Observer");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dt,[(0,s.Wm)(r,{checkedValue:i.categoryCars,"onUpdate:checkedValue":t[0]||(t[0]=e=>i.categoryCars=e),label:"Все модели",value:"no-filter",onChange:i.resetSelectedCategoryCar},null,8,["checkedValue","onChange"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.categoryList,(e=>((0,s.wg)(),(0,s.j4)(r,{checkedValue:i.categoryCars,"onUpdate:checkedValue":t[1]||(t[1]=e=>i.categoryCars=e),key:e.id,label:e.name,value:e.id},null,8,["checkedValue","label","value"])))),128))]),(0,s._)("ul",rt,[(0,s.wy)((0,s.Wm)(n,null,null,512),[[l.F8,i.togglePreloader]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredCarList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,o.C_)(["cars__item",{cars__item_active:i.selectedCar.id===e.id}]),key:e.id,onClick:t=>i.setSelectedCar(e)},[(0,s._)("p",Et,(0,o.zw)(e.name),1),(0,s._)("p",_t,(0,o.zw)(e.priceMin)+" - "+(0,o.zw)(e.priceMax)+" руб.",1),(0,s._)("img",{loading:"lazy",class:"cars__img",src:e.thumbnail.path,alt:e.thumbnail.originalname},null,8,Tt)],10,nt)))),128)),(0,s.Wm)(E,{onIntersect:i.intersected},null,8,["onIntersect"])])])}const pt=["checked","value"],mt=(0,s._)("span",{class:"checkmark"},null,-1);function Ct(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("label",{class:(0,o.C_)(["radio-item",{item_active:l.isChecked}])},[(0,s.Uk)((0,o.zw)(a.label)+" ",1),(0,s._)("input",{class:"radio__input",type:"radio",checked:l.isChecked,value:a.value,onChange:t[0]||(t[0]=t=>e.$emit("update:checkedValue",t.target.value))},null,40,pt),mt],2)}var Dt={name:"v-radio",props:{label:{type:String,default:"",required:!0},checkedValue:{type:String,default:""},value:{type:String,default:""}},setup(e){const t=(0,s.Fl)((()=>e.checkedValue===e.value));return{isChecked:t}}};const ht=(0,f.Z)(Dt,[["render",Ct]]);var vt=ht;const bt={class:"spinner-wrp"},gt=(0,s._)("div",{class:"lds-spinner"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1),St=[gt];function Rt(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("div",bt,St)}var It={name:"preloader"};const Ot=(0,f.Z)(It,[["render",Rt]]);var yt=Ot;const kt={class:"observer"};function ft(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("div",kt)}var At={props:["options"],setup(e,t){const a=(0,S.iH)(null);return(0,s.bv)((()=>{const l=e.options||{};a.value=new IntersectionObserver((([e])=>{e&&e.isIntersecting&&t.emit("intersect")}),l);const s=document.querySelector(".observer");a.value.observe(s)})),(0,s.Ah)((()=>{a.value.disconnect()})),{observer:a}}};const wt=(0,f.Z)(At,[["render",ft]]);var Ft=wt,Lt={name:"order-model",components:{VRadio:vt,Preloader:yt,Observer:Ft},setup(e,t){const a=(0,we.oR)(),l=(0,s.Fl)((()=>a.state.categoryList)),i=(0,s.Fl)((()=>a.getters.FILTERED_CARSDATA_BY_CATEGORY(r.value))),c=(0,s.Fl)((()=>a.state.checkedCategoryCars||"no-filter")),o=(0,s.Fl)((()=>a.state.selectedCar)),d=(0,s.Fl)((()=>0===i.value?.length)),r=(0,s.Fl)({get:()=>c.value,set:e=>{a.dispatch("GET_CHECKEDCATEGORY",e)}}),n=()=>a.dispatch("GET_CATEGORYLIST_FROM_API"),E=e=>a.dispatch("GET_FILTEREDCARLIST_FROM_API",e),_=e=>a.dispatch("GET_SELECTEDCAR",e),T=()=>{a.dispatch("GET_CHECKEDCATEGORY"),a.dispatch("GET_SELECTEDCAR"),a.dispatch("GET_CHECKEDCOLOR"),a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-model")},u=async()=>{await n()};u();const p=async()=>{await E(r.value)};return{categoryList:l,filteredCarList:i,intersected:p,checkedCategoryCars:c,selectedCar:o,togglePreloader:d,categoryCars:r,setSelectedCar:_,resetSelectedCategoryCar:T}}};const Gt=(0,f.Z)(Lt,[["render",ut]]);var Ht=Gt;const Mt={class:"additional-wrp"},Pt=(0,s._)("p",{class:"additional__text"},"Цвета",-1),Nt={class:"radio-list"},Vt=(0,s._)("p",{class:"additional__text"},"Дата аренды",-1),Kt={class:"additional-input__wrp"},Ut=(0,s._)("p",{class:"additional__text"},"Тариф",-1),Yt=(0,s._)("p",{class:"additional__text"},"Доп услуги",-1);function xt(e,t,a,l,i,c){const d=(0,s.up)("VRadio"),r=(0,s.up)("VSelectDouble"),n=(0,s.up)("VCheckbox");return(0,s.wg)(),(0,s.iD)("div",Mt,[Pt,(0,s._)("div",Nt,[(0,s.Wm)(d,{checkedValue:l.checkedColor,"onUpdate:checkedValue":t[0]||(t[0]=e=>l.checkedColor=e),label:"Любой",onChange:l.resetSelectedColor},null,8,["checkedValue","onChange"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedCar.colors,(e=>((0,s.wg)(),(0,s.j4)(d,{checkedValue:l.checkedColor,"onUpdate:checkedValue":t[1]||(t[1]=e=>l.checkedColor=e),key:e,label:e,value:e},null,8,["checkedValue","label","value"])))),128))]),Vt,(0,s._)("div",Kt,[(0,s._)("p",null,[(0,s.Wm)(r,{optionsDate:l.arrayDate,optionsTime:l.arrayTime,onSelectDate:l.setSelectedDateFrom,onSelectTime:l.setSelectedTimeFrom,onReset:l.resetSelectedFrom,selectedDate:l.selectedDateFrom,selectedTime:l.selectedTimeFrom,pretext:"C"},null,8,["optionsDate","optionsTime","onSelectDate","onSelectTime","onReset","selectedDate","selectedTime"])]),(0,s._)("p",null,[(0,s.Wm)(r,{class:(0,o.C_)({select_blocked:l.isSelectedDateFrom}),optionsDate:l.arrayDate,optionsTime:l.arrayTime,onSelectDate:l.setSelectedDateTo,onSelectTime:l.setSelectedTimeTo,onReset:l.resetSelectedTo,selectedDate:l.selectedDateTo,selectedTime:l.selectedTimeTo,pretext:"По"},null,8,["class","optionsDate","optionsTime","onSelectDate","onSelectTime","onReset","selectedDate","selectedTime"])])]),Ut,(0,s._)("div",{class:(0,o.C_)(["tarif-wrp",{select_blocked:l.isSelectedDateFromTo}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.rateList,(e=>((0,s.wg)(),(0,s.j4)(d,{checkedValue:l.checkedRate,"onUpdate:checkedValue":t[2]||(t[2]=e=>l.checkedRate=e),key:e.id,label:e?.rateTypeId?.name+", "+e?.price+"Р/"+e?.rateTypeId?.unit,value:e.id},null,8,["checkedValue","label","value"])))),128))],2),Yt,(0,s._)("div",{class:(0,o.C_)(["services-wrp",{select_blocked:l.isSelectedDateRate}])},[(0,s.Wm)(n,{modelValue:l.checkedTank,"onUpdate:modelValue":t[3]||(t[3]=e=>l.checkedTank=e),label:"Полный бак, 500р",value:"Да"},null,8,["modelValue"]),(0,s.Wm)(n,{modelValue:l.checkedBabyChair,"onUpdate:modelValue":t[4]||(t[4]=e=>l.checkedBabyChair=e),label:"Детское кресло, 200р",value:"Да"},null,8,["modelValue"]),(0,s.Wm)(n,{modelValue:l.checkedRightHandDrive,"onUpdate:modelValue":t[5]||(t[5]=e=>l.checkedRightHandDrive=e),label:"Правый руль, 1600р",value:"Да"},null,8,["modelValue"])],2)])}const Bt={class:"select"},qt={class:"select__text pretext"},Wt={class:"select-block"},zt={key:0,class:"select__options"},jt={class:"select__options-list"},Zt=["onClick"],$t=["onClick"];function Xt(e,t,a,l,i,c){const d=(0,s.up)("vicon");return(0,s.wg)(),(0,s.iD)("div",Bt,[(0,s._)("div",qt,(0,o.zw)(a.pretext),1),(0,s._)("div",Wt,[(0,s._)("p",{class:(0,o.C_)(["select__title select__text",{placeholder:"Введите дату и время..."===a.selectedDate}])},[(0,s._)("span",{class:"select__text-inside",onClick:t[0]||(t[0]=e=>l.areOptionsVisible=!l.areOptionsVisible)},(0,o.zw)(a.selectedDate)+" "+(0,o.zw)(a.selectedTime),1),"Введите дату и время..."!==a.selectedDate?((0,s.wg)(),(0,s.iD)("span",{key:0,onClick:t[1]||(t[1]=(...e)=>l.resetOption&&l.resetOption(...e))},[(0,s.Wm)(d,{"icon-id":"icon-cross",width:"8",height:"8"})])):(0,s.kq)("",!0)],2),l.areOptionsVisible?((0,s.wg)(),(0,s.iD)("div",zt,[(0,s._)("div",jt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.optionsDate,(e=>((0,s.wg)(),(0,s.iD)("p",{class:"select__options-item select__text",key:e.id,onClick:t=>l.selectDate(e)},(0,o.zw)(e.dateString),9,Zt)))),128))]),(0,s._)("div",{class:(0,o.C_)(["select__options-list",{list_blocked:"Введите дату и время..."===a.selectedDate}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.optionsTime,(e=>((0,s.wg)(),(0,s.iD)("p",{class:"select__options-item select__text",key:e.id,onClick:t=>l.selectTime(e)},(0,o.zw)(e.dateString),9,$t)))),128))],2)])):(0,s.kq)("",!0)])])}var Jt={name:"v-selectdouble",components:{Vicon:w},props:{optionsDate:{type:Array,default(){return[]}},optionsTime:{type:Array,default(){return[]}},selectedDate:{type:String,default:""},selectedTime:{type:String,default:""},pretext:{type:String,default:""}},setup(e,t){const a=(0,S.iH)(!1),l=l=>{t.emit("selectDate",l),""!==e.selectedTime&&(a.value=!1)},s=l=>{t.emit("selectTime",l),"Введите дату и время..."!==e.selectedDate&&(a.value=!1)},i=()=>{t.emit("reset"),"Введите дату и время..."!==e.selectedDate&&""!==e.selectedTime&&(a.value=!1)};return{areOptionsVisible:a,selectDate:l,selectTime:s,resetOption:i}}};const Qt=(0,f.Z)(Jt,[["render",Xt],["__scopeId","data-v-18b934d0"]]);var ea=Qt;const ta=e=>((0,s.dD)("data-v-b27b1380"),e=e(),(0,s.Cn)(),e),aa=["checked","value"],la=ta((()=>(0,s._)("span",{class:"checkmark-box"},null,-1)));function sa(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("label",{class:(0,o.C_)(["checkbox-item",{item_active:l.isChecked}])},[(0,s.Uk)((0,o.zw)(a.label)+" ",1),(0,s._)("input",{class:"checkbox__input",type:"checkbox",checked:l.isChecked,value:a.value,onChange:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e))},null,40,aa),la],2)}var ia={props:{value:{type:String},modelValue:{type:String,default:""},label:{type:String,required:!0},trueValue:{default:!0},falseValue:{default:!1}},setup(e,t){const a=(0,s.Fl)((()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===e.trueValue)),l=a=>{const l=a.target.checked;if(e.modelValue instanceof Array){const a=[...e.modelValue];l?a.push(e.value):a.splice(a.indexOf(e.value),1),t.emit("update:modelValue",a)}else t.emit("update:modelValue",l?e.trueValue:e.falseValue)};return{isChecked:a,updateInput:l}}};const ca=(0,f.Z)(ia,[["render",sa],["__scopeId","data-v-b27b1380"]]);var oa=ca,da={name:"order-additional",components:{VRadio:vt,VSelectDouble:ea,VCheckbox:oa},setup(e,t){const a=(0,we.oR)(),l=(0,S.iH)([]),i=(0,S.iH)([]),c=(0,S.iH)([]),o=(0,s.Fl)((()=>a.state.rateList)),d=(0,s.Fl)((()=>a.state.selectedCar)),r=(0,s.Fl)((()=>a.state.selectedColor)),n=(0,s.Fl)((()=>a.state.selectedDateFrom)),E=(0,s.Fl)((()=>a.state.selectedTimeFrom)),_=(0,s.Fl)((()=>a.state.selectedDateTo)),T=(0,s.Fl)((()=>a.state.selectedTimeTo)),u=(0,s.Fl)((()=>a.state.dateFrom)),p=(0,s.Fl)((()=>a.state.dateTo)),m=(0,s.Fl)((()=>a.state.selectedRate)),C=(0,s.Fl)((()=>a.state.selectedTank)),D=(0,s.Fl)((()=>a.state.selectedBabyChair)),h=(0,s.Fl)((()=>a.state.selectedRightHandDrive)),v=(0,s.Fl)({get:()=>r.value,set:e=>{a.dispatch("GET_CHECKEDCOLOR",e)}}),b=(0,s.Fl)({get:()=>m.value,set:e=>{a.dispatch("GET_CHECKEDRATE",e)}}),g=(0,s.Fl)({get:()=>C.value,set:e=>{a.dispatch("GET_CHECKEDTANK",e)}}),R=(0,s.Fl)({get:()=>D.value,set:e=>{a.dispatch("GET_CHECKEDBABYCHAIR",e)}}),I=(0,s.Fl)({get:()=>h.value,set:e=>{a.dispatch("GET_CHECKEDRIGHTHANDDRIVE",e)}}),O=(0,s.Fl)((()=>!u.value)),y=(0,s.Fl)((()=>!u.value||!p.value)),k=(0,s.Fl)((()=>!u.value||!p.value||!m.value)),f=()=>a.dispatch("GET_RATE_FROM_API"),A=()=>{a.dispatch("GET_CHECKEDCOLOR")},w=()=>{const e=new Date;e.setHours(0,0,0);for(let t=0;t<=90;t++){e.setDate(e.getDate()+1);let a=L(e),s=a+" 00:00",c={id:t,value:e.getTime(),dateString:s};l.value.push(c);let o={id:t,value:e.getTime(),dateString:a};i.value.push(o)}},F=()=>{const e=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];for(let t=0;t<e.length;t++){let a=e[t].split(":"),l=36e5*a[0]+6e4*a[1],s={id:t,value:l,dateString:e[t]};c.value.push(s)}},L=e=>{let t=e.getDate().toString().length<2?"0"+e.getDate():e.getDate(),a=e.getMonth().toString().length<2?"0"+(e.getMonth()+1):e.getMonth()+1,l=e.getFullYear().toString();return`${t}.${a}.${l}`},G=e=>{a.dispatch("GET_SELECTEDDATEFROM",e)},H=()=>{a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-additional")},M=e=>{a.dispatch("GET_SELECTEDTIMEFROM",e)},P=()=>{a.dispatch("GET_SELECTEDTIMEFROM")},N=()=>{a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-additional")},V=e=>{a.dispatch("GET_SELECTEDDATETO",e)},K=()=>{a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION")},U=e=>{a.dispatch("GET_SELECTEDTIMETO",e);const t=p.value-u.value;a.dispatch("GET_RENTALDURATION",t)},Y=()=>{a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION")},x=()=>{a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-additional")},B=e=>{a.dispatch("GET_CHECKEDRATE",e)},q=()=>{a.dispatch("GET_CHECKEDRATE")},W=e=>{a.dispatch("GET_CHECKEDTANK",e)},z=()=>{a.dispatch("GET_CHECKEDTANK")},j=e=>{a.dispatch("GET_CHECKEDBABYCHAIR",e)},Z=()=>{a.dispatch("GET_CHECKEDBABYCHAIR")},$=e=>{a.dispatch("GET_CHECKEDRIGHTHANDDRIVE",e)},X=()=>{a.dispatch("GET_CHECKEDRIGHTHANDDRIVE")};return(0,s.bv)((()=>{w(),F()})),f(),{arrayDateFrom:l,arrayDate:i,arrayTime:c,rateList:o,selectedCar:d,selectedColor:r,selectedDateFrom:n,selectedTimeFrom:E,selectedDateTo:_,selectedTimeTo:T,dateStateFrom:u,dateStateTo:p,selectedRate:m,selectedTank:C,selectedBabyChair:D,selectedRightHandDrive:h,checkedColor:v,checkedRate:b,checkedTank:g,checkedBabyChair:R,checkedRightHandDrive:I,isSelectedDateFrom:O,isSelectedDateFromTo:y,isSelectedDateRate:k,getRateFromApi:f,resetSelectedColor:A,setSelectedDateFrom:G,resetSelectedDateFrom:H,setSelectedTimeFrom:M,resetSelectedTimeFrom:P,resetSelectedFrom:N,setSelectedDateTo:V,resetSelectedDateTo:K,setSelectedTimeTo:U,resetSelectedTimeTo:Y,resetSelectedTo:x,setSelectedRate:B,resetSelectedRate:q,setSelectedTank:W,resetSelectedTank:z,setSelectedBabyChair:j,resetSelectedBabyChair:Z,setSelectedRightHandDrive:$,resetSelectedRightHandDrive:X}}};const ra=(0,f.Z)(da,[["render",xt]]);var na=ra;const Ea={class:"summary__wrp"},_a={class:"summary__car-name"},Ta={class:"car-number__wrp"},ua={class:"summary__car-number"},pa={key:0,class:"summary__additional"},ma=(0,s.Uk)(" Топливо "),Ca=(0,s._)("span",{class:"summary__selected-value"},"100%",-1),Da=[ma,Ca],ha={key:1,class:"summary__additional"},va=(0,s.Uk)(" Детское кресло "),ba=(0,s._)("span",{class:"summary__selected-value"},"Да",-1),ga=[va,ba],Sa={key:2,class:"summary__additional"},Ra=(0,s.Uk)(" Правый руль "),Ia=(0,s._)("span",{class:"summary__selected-value"},"Да",-1),Oa=[Ra,Ia],ya={class:"summary__additional"},ka=(0,s.Uk)(" Доступна с "),fa={class:"summary__selected-value"},Aa=["src","alt"];function wa(e,t,a,l,i,c){const d=(0,s.up)("popUp");return(0,s.wg)(),(0,s.iD)("div",Ea,[(0,s._)("div",null,[(0,s._)("p",_a,(0,o.zw)(l.selectedCar.name),1),(0,s._)("div",Ta,[(0,s._)("p",ua,(0,o.zw)(l.selectedCar.number),1)]),l.selectedTank?((0,s.wg)(),(0,s.iD)("p",pa,Da)):(0,s.kq)("",!0),l.selectedBabyChair?((0,s.wg)(),(0,s.iD)("p",ha,ga)):(0,s.kq)("",!0),l.selectedRightHandDrive?((0,s.wg)(),(0,s.iD)("p",Sa,Oa)):(0,s.kq)("",!0),(0,s._)("p",ya,[ka,(0,s._)("span",fa,(0,o.zw)(l.selectedDateFrom)+" "+(0,o.zw)(l.selectedTimeFrom),1)])]),(0,s._)("img",{class:"car__img",src:l.selectedCar?.thumbnail?.path,alt:l.selectedCar?.thumbnail?.originalname},null,8,Aa),l.popUpConfirm?((0,s.wg)(),(0,s.j4)(d,{key:0})):(0,s.kq)("",!0)])}const Fa={class:"modal-mask"},La={class:"modal-wrapper"},Ga={class:"modal-container"},Ha=(0,s._)("div",{class:"modal-body"},"Подтвердить заказ",-1),Ma={class:"modal-footer"};function Pa(e,t,a,i,c,o){const d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(l.uT,{name:"modal"},{default:(0,s.w5)((()=>[(0,s._)("div",Fa,[(0,s._)("div",La,[(0,s._)("div",Ga,[Ha,(0,s._)("div",Ma,[i.orderId?((0,s.wg)(),(0,s.j4)(d,{key:0,to:{name:"v-orderid",params:{id:i.orderId}}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"modal-button",onClick:t[0]||(t[0]=(...e)=>i.confirmOrder&&i.confirmOrder(...e))}," Подтвердить ")])),_:1},8,["to"])):(0,s.kq)("",!0),(0,s._)("button",{class:"modal-button modal-button_colored",onClick:t[1]||(t[1]=(...e)=>i.closePopUp&&i.closePopUp(...e))}," Вернуться ")])])])])])),_:1})}var Na={name:"popup",setup(){const e=(0,we.oR)(),t=(0,s.Fl)((()=>e.state.orderId)),a=()=>{e.dispatch("PUT_CONFIRM_ORDERID_TO_API")},l=()=>{e.dispatch("GET_POPUPCONFIRM")};return{orderId:t,confirmOrder:a,closePopUp:l}}};const Va=(0,f.Z)(Na,[["render",Pa]]);var Ka=Va,Ua={name:"order-summary",components:{PopUp:Ka},setup(){const e=(0,we.oR)(),t=(0,s.Fl)((()=>e.state.selectedCar)),a=(0,s.Fl)((()=>e.state.selectedColor)),l=(0,s.Fl)((()=>e.state.selectedDateFrom)),i=(0,s.Fl)((()=>e.state.selectedTimeFrom)),c=(0,s.Fl)((()=>e.state.selectedRate)),o=(0,s.Fl)((()=>e.state.selectedTank)),d=(0,s.Fl)((()=>e.state.selectedBabyChair)),r=(0,s.Fl)((()=>e.state.selectedRightHandDrive)),n=(0,s.Fl)((()=>e.state.popUpConfirm));return{selectedCar:t,selectedColor:a,selectedDateFrom:l,selectedTimeFrom:i,selectedRate:c,selectedTank:o,selectedBabyChair:d,selectedRightHandDrive:r,popUpConfirm:n}}};const Ya=(0,f.Z)(Ua,[["render",wa]]);var xa=Ya;const Ba={class:"total"},qa=(0,s._)("p",{class:"total__title"},"Ваш заказ:",-1),Wa={class:"total-list"},za={class:"total__item"},ja=(0,s._)("span",{class:"total__item-title"},"Пункт выдачи",-1),Za={class:"total__item-value"},$a={key:0,class:"total__item"},Xa=(0,s._)("span",{class:"total__item-title"},"Модель",-1),Ja={class:"total__item-value"},Qa={key:1,class:"total__item"},el=(0,s._)("span",{class:"total__item-title"},"Цвет",-1),tl={class:"total__item-value"},al={key:2,class:"total__item"},ll=(0,s._)("span",{class:"total__item-title"},"Длительность аренды",-1),sl={key:0,class:"total__item-value"},il={key:1,class:"total__item-value"},cl={key:3,class:"total__item"},ol=(0,s._)("span",{class:"total__item-title"},"Тариф",-1),dl={class:"total__item-value"},rl={key:4,class:"total__item"},nl=(0,s._)("span",{class:"total__item-title"},"Полный бак",-1),El=(0,s._)("span",{class:"total__item-value"},"Да",-1),_l=[nl,El],Tl={key:5,class:"total__item"},ul=(0,s._)("span",{class:"total__item-title"},"Детское кресло",-1),pl=(0,s._)("span",{class:"total__item-value"},"Да",-1),ml=[ul,pl],Cl={key:6,class:"total__item"},Dl=(0,s._)("span",{class:"total__item-title"},"Правый руль",-1),hl=(0,s._)("span",{class:"total__item-value"},"Да",-1),vl=[Dl,hl],bl={key:0,class:"total__price"},gl=(0,s.Uk)(" Цена: "),Sl={key:0,class:"total__price total__price-thin"},Rl={key:1,class:"total__price total__price-thin"},Il=["disabled"],Ol=["disabled"],yl=["disabled"];function kl(e,t,a,l,i,c){return(0,s.wg)(),(0,s.iD)("div",Ba,[qa,(0,s._)("ul",Wa,[(0,s._)("li",za,[ja,(0,s._)("div",Za,[(0,s._)("span",null,(0,o.zw)(l.selectedCity.name),1),(0,s._)("span",null,(0,o.zw)(l.selectedPoint.name),1)])]),l.selectedCar.name?((0,s.wg)(),(0,s.iD)("li",$a,[Xa,(0,s._)("span",Ja,(0,o.zw)(l.selectedCar.name),1)])):(0,s.kq)("",!0),l.selectedColor?((0,s.wg)(),(0,s.iD)("li",Qa,[el,(0,s._)("span",tl,(0,o.zw)(l.selectedColor),1)])):(0,s.kq)("",!0),l.rentalDuration?((0,s.wg)(),(0,s.iD)("li",al,[ll,l.rentalDuration.days?((0,s.wg)(),(0,s.iD)("span",sl,(0,o.zw)(l.rentalDuration.days)+"д ",1)):(0,s.kq)("",!0),l.rentalDuration.hours?((0,s.wg)(),(0,s.iD)("span",il,(0,o.zw)(l.rentalDuration.hours)+"ч ",1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),l.getNameRate?((0,s.wg)(),(0,s.iD)("li",cl,[ol,(0,s._)("span",dl,(0,o.zw)(l.getNameRate),1)])):(0,s.kq)("",!0),l.selectedTank?((0,s.wg)(),(0,s.iD)("li",rl,_l)):(0,s.kq)("",!0),l.selectedBabyChair?((0,s.wg)(),(0,s.iD)("li",Tl,ml)):(0,s.kq)("",!0),l.selectedRightHandDrive?((0,s.wg)(),(0,s.iD)("li",Cl,vl)):(0,s.kq)("",!0)]),l.selectedCar.name?((0,s.wg)(),(0,s.iD)("p",bl,[gl,l.getPriceSummary?((0,s.wg)(),(0,s.iD)("span",Sl,(0,o.zw)(l.getPriceSummary)+" ₽ ",1)):((0,s.wg)(),(0,s.iD)("span",Rl," от "+(0,o.zw)(l.selectedCar.priceMin)+" до "+(0,o.zw)(l.selectedCar.priceMax)+" ₽ ",1))])):(0,s.kq)("",!0),"order-place"===a.selectedTab?((0,s.wg)(),(0,s.iD)("button",{key:1,class:(0,o.C_)(["total__button",{total__button_active:l.orderPlaceFilledUp}]),disabled:!l.orderPlaceFilledUp,onClick:t[0]||(t[0]=(...e)=>l.changeSelectedTabModel&&l.changeSelectedTabModel(...e))}," Выбрать модель ",10,Il)):(0,s.kq)("",!0),"order-model"===a.selectedTab?((0,s.wg)(),(0,s.iD)("button",{key:2,class:(0,o.C_)(["total__button",{total__button_active:l.orderModelFilledUp}]),disabled:!l.orderModelFilledUp,onClick:t[1]||(t[1]=(...e)=>l.changeSelectedTabAdditional&&l.changeSelectedTabAdditional(...e))}," Дополнительно ",10,Ol)):(0,s.kq)("",!0),"order-additional"===a.selectedTab?((0,s.wg)(),(0,s.iD)("button",{key:3,class:(0,o.C_)(["total__button",{total__button_active:l.orderAdditionalFilledUp}]),disabled:!l.orderAdditionalFilledUp,onClick:t[2]||(t[2]=(...e)=>l.changeSelectedTabSummary&&l.changeSelectedTabSummary(...e))}," Итого ",10,yl)):(0,s.kq)("",!0),"order-summary"===a.selectedTab?((0,s.wg)(),(0,s.iD)("button",{key:4,class:"total__button total__button_active",onClick:t[3]||(t[3]=(...e)=>l.showPopUp&&l.showPopUp(...e))}," Заказать ")):(0,s.kq)("",!0)])}var fl={name:"v-total",props:{tabs:{type:Array,required:!1},selectedId:{type:Number,required:!1},selectedTab:{type:String,required:!1}},setup(e,t){const a=(0,we.oR)(),l=(0,s.Fl)((()=>a.state.selectedCity)),i=(0,s.Fl)((()=>a.state.selectedPoint)),c=(0,s.Fl)((()=>a.state.selectedCar)),o=(0,s.Fl)((()=>a.state.selectedColor)),d=(0,s.Fl)((()=>a.state.dateFrom)),r=(0,s.Fl)((()=>a.state.dateTo)),n=(0,s.Fl)((()=>a.state.rentalDuration)),E=(0,s.Fl)((()=>a.state.rateList)),_=(0,s.Fl)((()=>a.state.selectedRate)),T=(0,s.Fl)((()=>a.state.selectedTank)),u=(0,s.Fl)((()=>a.state.selectedBabyChair)),p=(0,s.Fl)((()=>a.state.selectedRightHandDrive)),m=(0,s.Fl)((()=>{let e="";return E.value.filter((t=>{t.id===_.value&&(e=t.rateTypeId.name)})),e}),""),C=(0,s.Fl)((()=>{const e="62593c9d73b61100181028ed",t="62593cac73b61100181028ee",l="62593cca73b61100181028ef",s="62593cd573b61100181028f0",i="6259003d73b61100181028d9",c="62593cf073b61100181028f1",o="62593d0273b61100181028f2",n=500,T=200,u=1600;let p;const m=r.value-d.value;return E.value.forEach((a=>{if(_.value===a.id&&_.value===i){const e=a.price/2592e6;2592e6===m?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}if(_.value===a.id&&_.value===e){const e=a.price/6e4;m>6e4&&m<864e5?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}if(_.value===a.id&&_.value===t){const e=a.price/864e5;m>=864e5&&m<6048e5?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}if(_.value===a.id&&_.value===l){const e=a.price/6048e5;6048e5===m?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}if(_.value===a.id&&_.value===s){const e=a.price/6048e5;6048e5===m?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}if(_.value===a.id&&_.value===c){const e=a.price/7776e6;7776e6===m?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}if(_.value===a.id&&_.value===o){const e=a.price/31536e6;31536e6===m?p=Math.round(m*e):alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени"),p=R(p,n,T,u)}})),a.dispatch("GET_PRICESUMMARY",p),p})),D=(0,s.Fl)((()=>Object.keys(l.value).length&&0!==Object.keys(i.value).length)),h=(0,s.Fl)((()=>0!==Object.keys(c.value).length)),v=(0,s.Fl)((()=>d.value&&r.value&&_.value)),b=()=>{const a=e.tabs[e.selectedId+1].id;t.emit("updateSelectedTab",a)},g=()=>{const a=e.tabs[e.selectedId+2].id;t.emit("updateSelectedTab",a)},S=()=>{const a=e.tabs[e.selectedId+3].id;t.emit("updateSelectedTab",a)},R=(e,t,a,l)=>(T.value&&(e+=t),u.value&&(e+=a),p.value&&(e+=l),e),I=()=>{const e=!0;a.dispatch("GET_POPUPCONFIRM",e),a.dispatch("POST_ORDER_TO_API")};return{selectedCity:l,selectedPoint:i,selectedCar:c,selectedColor:o,dateStateFrom:d,dateStateTo:r,rentalDuration:n,rateList:E,selectedRate:_,selectedTank:T,selectedBabyChair:u,selectedRightHandDrive:p,getNameRate:m,getPriceSummary:C,orderPlaceFilledUp:D,orderModelFilledUp:h,orderAdditionalFilledUp:v,changeSelectedTabModel:b,changeSelectedTabAdditional:g,changeSelectedTabSummary:S,calcAddService:R,showPopUp:I}}};const Al=(0,f.Z)(fl,[["render",kl]]);var wl=Al,Fl={name:"order-window",components:{VTabs:Ke,OrderPlace:ot,OrderModel:Ht,OrderAdditional:na,OrderSummary:xa,VTotal:wl},setup(){const e=(0,we.oR)(),t=(0,S.iH)([{label:"Местоположение",id:"order-place",isDisabled:!0},{label:"Модель",id:"order-model",isDisabled:!0},{label:"Дополнительно",id:"order-additional",isDisabled:!0},{label:"Итого",id:"order-summary",isDisabled:!0}]),a=(0,S.iH)(0),l=(0,S.iH)("order-place"),i=(0,s.Fl)((()=>e.state.selectedCity)),c=(0,s.Fl)((()=>e.state.selectedPoint)),o=(0,s.Fl)((()=>e.state.selectedCar)),d=(0,s.Fl)((()=>e.state.selectedColor)),r=(0,s.Fl)((()=>e.state.dateFrom)),n=(0,s.Fl)((()=>e.state.dateTo)),E=(0,s.Fl)((()=>e.state.selectedRate)),_=(0,s.Fl)((()=>{const e=t.value.slice();return Object.keys(i.value).length&&0!==Object.keys(c.value).length&&"order-place"===l.value?(e[a.value].isDisabled=!1,e[a.value+1].isDisabled=!1,e):0!==Object.keys(o.value).length&&"order-model"===l.value?(e[a.value+2].isDisabled=!1,e):d.value&&r.value&&n.value&&E.value&&"order-additional"===l.value?(e[a.value+3].isDisabled=!1,e):e}));function T(e){l.value=e}function u(e){if("order-place"===e)for(var a=0;a<t.value.length;a++)t.value[a].isDisabled=!0;if("order-model"===e)for(var l=1;l<t.value.length;l++)t.value[l].isDisabled=!0;if("order-additional"===e)for(var s=2;s<t.value.length;s++)t.value[s].isDisabled=!0}return{tabs:t,selectedIndexTabs:a,selectedTab:l,filledUpData:_,selectedCity:i,selectedPoint:c,selectedCar:o,selectedColor:d,dateFrom:r,dateTo:n,selectedRate:E,updateSelectedTab:T,resetTabs:u}}};const Ll=(0,f.Z)(Fl,[["render",Ae]]);var Gl=Ll,Hl={name:"v-order",components:{Vheader:ce,OrderWindow:Gl}};const Ml=(0,f.Z)(Hl,[["render",Oe]]);var Pl=Ml;const Nl=e=>((0,s.dD)("data-v-5dd57cfd"),e=e(),(0,s.Cn)(),e),Vl={class:"order-wrp"},Kl={class:"tabs"},Ul={class:"tabs__border"},Yl={class:"tab-list order-center"},xl={class:"tab__item"},Bl={class:"order"},ql={class:"order__window"},Wl=Nl((()=>(0,s._)("p",{class:"order__title"},"Ваш заказ подтверждён",-1))),zl={class:"summary__wrp"},jl={key:0,class:"summary__car-name"},Zl={class:"car-number__wrp"},$l={key:0,class:"summary__car-number"},Xl={key:1,class:"summary__additional"},Jl=(0,s.Uk)(" Топливо "),Ql=Nl((()=>(0,s._)("span",{class:"summary__selected-value"},"100%",-1))),es=[Jl,Ql],ts={key:2,class:"summary__additional"},as=(0,s.Uk)(" Детское кресло "),ls=Nl((()=>(0,s._)("span",{class:"summary__selected-value"},"Да",-1))),ss=[as,ls],is={key:3,class:"summary__additional"},cs=(0,s.Uk)(" Правый руль "),os=Nl((()=>(0,s._)("span",{class:"summary__selected-value"},"Да",-1))),ds=[cs,os],rs={class:"summary__additional"},ns=(0,s.Uk)(" Доступна с "),Es={class:"summary__selected-value"},_s=["src","alt"],Ts={class:"total"},us=Nl((()=>(0,s._)("p",{class:"total__title"},"Ваш заказ:",-1))),ps={class:"total__list"},ms=Nl((()=>(0,s._)("span",{class:"item__title"},"Пункт выдачи",-1))),Cs={class:"item__value"},Ds={key:0},hs={key:1},vs={key:0},bs=Nl((()=>(0,s._)("span",{class:"item__title"},"Модель",-1))),gs={class:"item__value"},Ss={key:1},Rs=Nl((()=>(0,s._)("span",{class:"item__title"},"Цвет",-1))),Is={class:"item__value"},Os={key:2},ys=Nl((()=>(0,s._)("span",{class:"item__title"},"Длительность аренд",-1))),ks={key:0,class:"item__value"},fs={key:1,class:"item__value"},As={key:3},ws=Nl((()=>(0,s._)("span",{class:"item__title"},"Тариф",-1))),Fs={class:"item__value"},Ls={key:4},Gs=Nl((()=>(0,s._)("span",{class:"item__title"},"Полный бак",-1))),Hs=Nl((()=>(0,s._)("span",{class:"item__value"},"Да",-1))),Ms=[Gs,Hs],Ps={key:5},Ns=Nl((()=>(0,s._)("span",{class:"item__title"},"Детское кресло",-1))),Vs=Nl((()=>(0,s._)("span",{class:"item__value"},"Да",-1))),Ks=[Ns,Vs],Us={key:6},Ys=Nl((()=>(0,s._)("span",{class:"item__title"},"Правый руль",-1))),xs=Nl((()=>(0,s._)("span",{class:"item__value"},"Да",-1))),Bs=[Ys,xs],qs={class:"total__price"},Ws=(0,s.Uk)(" Цена: "),zs={class:"total__price total__price-thin"};function js(e,t,a,l,i,c){const d=(0,s.up)("Vheader"),r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Vl,[(0,s.Wm)(d,{class:"order-center"}),(0,s._)("div",Kl,[(0,s._)("div",Ul,[(0,s._)("ul",Yl,[(0,s._)("li",xl,"Заказ номер "+(0,o.zw)(l.orderId),1)])]),(0,s._)("div",Bl,[(0,s._)("div",ql,[Wl,(0,s._)("div",zl,[(0,s._)("div",null,[l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("p",jl,(0,o.zw)(l.orderConfirmed.carId.name),1)):(0,s.kq)("",!0),(0,s._)("div",Zl,[l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("p",$l,(0,o.zw)(l.orderConfirmed.carId.number),1)):(0,s.kq)("",!0)]),l.orderConfirmed?.isFullTank?((0,s.wg)(),(0,s.iD)("p",Xl,es)):(0,s.kq)("",!0),l.orderConfirmed?.isNeedChildChair?((0,s.wg)(),(0,s.iD)("p",ts,ss)):(0,s.kq)("",!0),l.orderConfirmed?.isRightWheel?((0,s.wg)(),(0,s.iD)("p",is,ds)):(0,s.kq)("",!0),(0,s._)("p",rs,[ns,(0,s._)("span",Es,(0,o.zw)(l.convertToDate),1)])]),l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"car__img",src:l.orderConfirmed?.carId?.thumbnail?.path,alt:l.orderConfirmed?.carId?.thumbnail?.originalname},null,8,_s)):(0,s.kq)("",!0)])]),(0,s._)("div",Ts,[us,(0,s._)("ul",ps,[(0,s._)("li",null,[ms,(0,s._)("div",Cs,[l.orderConfirmed?.cityId?((0,s.wg)(),(0,s.iD)("span",Ds,(0,o.zw)(l.orderConfirmed.cityId.name),1)):(0,s.kq)("",!0),l.orderConfirmed?.pointId?((0,s.wg)(),(0,s.iD)("span",hs,(0,o.zw)(l.orderConfirmed.pointId.name),1)):(0,s.kq)("",!0)])]),l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("li",vs,[bs,(0,s._)("span",gs,(0,o.zw)(l.orderConfirmed.carId.name),1)])):(0,s.kq)("",!0),l.orderConfirmed?.color?((0,s.wg)(),(0,s.iD)("li",Ss,[Rs,(0,s._)("span",Is,(0,o.zw)(l.orderConfirmed.color),1)])):(0,s.kq)("",!0),l.rentalDuration?((0,s.wg)(),(0,s.iD)("li",Os,[ys,l.rentalDuration.days?((0,s.wg)(),(0,s.iD)("span",ks,(0,o.zw)(l.rentalDuration.days)+"д",1)):(0,s.kq)("",!0),l.rentalDuration.hours?((0,s.wg)(),(0,s.iD)("span",fs,(0,o.zw)(l.rentalDuration.hours)+"ч",1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),l.orderConfirmed?.rateId?((0,s.wg)(),(0,s.iD)("li",As,[ws,(0,s._)("span",Fs,(0,o.zw)(l.orderConfirmed.rateId.rateTypeId.name),1)])):(0,s.kq)("",!0),l.orderConfirmed?.isFullTank?((0,s.wg)(),(0,s.iD)("li",Ls,Ms)):(0,s.kq)("",!0),l.orderConfirmed?.isNeedChildChair?((0,s.wg)(),(0,s.iD)("li",Ps,Ks)):(0,s.kq)("",!0),l.orderConfirmed?.isRightWheel?((0,s.wg)(),(0,s.iD)("li",Us,Bs)):(0,s.kq)("",!0)]),(0,s._)("p",qs,[Ws,(0,s._)("span",zs,(0,o.zw)(l.orderConfirmed.price)+" ₽",1)]),(0,s.Wm)(r,{to:{name:"v-order"}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"total__button total__button_active button-colored",onClick:t[0]||(t[0]=(...e)=>l.cancelOrder&&l.cancelOrder(...e))}," Отменить ")])),_:1})])])])])}var Zs={name:"order-confirm",components:{Vheader:ce},setup(){const e=(0,we.oR)(),t=(0,s.Fl)((()=>e.state.orderId)),a=(0,s.Fl)((()=>e.state.rentalDuration)),l=(0,s.Fl)((()=>e.state.orderConfirmed)),i=(0,s.Fl)((()=>{let e=l.value.dateFrom,t=new Date(e),a=t.getDate();a<10&&(a="0"+a);let s=t.getMonth()+1;s<10&&(s="0"+s);let i=t.getFullYear();i<10&&(i="0"+i);let c=t.getHours();c<10&&(c="0"+c);let o=t.getMinutes();return o<10&&(o="0"+o),a+"."+s+"."+i+" "+c+":"+o})),c=()=>e.dispatch("GET_ORDER_FROM_API"),o=()=>e.dispatch("PUT_CANCEL_ORDERID_TO_API"),d=()=>{o(),e.dispatch("GET_ORDERID"),e.dispatch("GET_ORDERCONFIRMED"),e.dispatch("GET_SELECTEDCITY"),e.dispatch("GET_SELECTEDPOINT"),e.dispatch("GET_CHECKEDCATEGORY"),e.dispatch("GET_SELECTEDCAR"),e.dispatch("GET_CHECKEDCOLOR"),e.dispatch("GET_SELECTEDDATEFROM"),e.dispatch("GET_SELECTEDTIMEFROM"),e.dispatch("GET_SELECTEDDATETO"),e.dispatch("GET_SELECTEDTIMETO"),e.dispatch("GET_RENTALDURATION"),e.dispatch("GET_CHECKEDRATE"),e.dispatch("GET_CHECKEDTANK"),e.dispatch("GET_CHECKEDBABYCHAIR"),e.dispatch("GET_CHECKEDRIGHTHANDDRIVE")};return c(),{orderId:t,rentalDuration:a,orderConfirmed:l,convertToDate:i,getOrderFromApi:c,putCancelOrderToApi:o,cancelOrder:d}}};const $s=(0,f.Z)(Zs,[["render",js],["__scopeId","data-v-5dd57cfd"]]);var Xs=$s;const Js=[{path:"/",name:"v-main",component:Re},{path:"/order",name:"v-order",component:Pl},{path:"/order_:id",name:"v-orderid",component:Xs}],Qs=(0,Y.p7)({history:(0,Y.PO)("/nfd_vue3/"),routes:Js});var ei=Qs,ti=a(669),ai=a.n(ti);const li=ai().create({baseURL:"https://api-factory.simbirsoft1.com/api"});li.defaults.headers.common["X-Api-Factory-Application-Id"]="5e25c641099b810b946c5d5b";var si=li;const ii={CITY:"/db/city",POINT:"/db/point",CATEGORY:"/db/category",CAR:"/db/car",RATE:"/db/rate",ORDER:"db/order"};var ci={getCities(){return si.get(ii.CITY)},getPoints(){return si.get(ii.POINT)},getCategories(){return si.get(ii.CATEGORY)},getCars(e={}){return si.get(ii.CAR,{params:e})},getRate(){return si.get(ii.RATE)},postOrder(){return si.post(ii.ORDER)}};const oi=5;var di=(0,we.MT)({state:{cityList:[],pointList:[],categoryList:[],cars:{},rateList:[],popUpConfirm:!1,orderId:"",orderConfirmed:{},orderNewStatusId:"5e26a191099b810b946c5d89",orderConfirmedStatusId:"5e26a1f0099b810b946c5d8b",orderCanceledStatusId:"5e26a1f5099b810b946c5d8c",selectedCity:{},selectedPoint:{},checkedCategoryCars:"",selectedCar:{},selectedColor:"",selectedDateFrom:"Введите дату и время...",selectedTimeFrom:"",selectedDateTo:"Введите дату и время...",selectedTimeTo:"",dateFrom:0,dateTo:0,rentalDuration:"",selectedRate:"",selectedTank:!1,selectedBabyChair:!1,selectedRightHandDrive:!1,priceSummary:0},mutations:{SET_CITYLIST_TO_STATE:(e,t)=>{e.cityList=t.data.data},SET_POINTLIST_TO_STATE:(e,t)=>{e.pointList=t.data.data},SET_CATEGORYLIST_TO_STATE:(e,t)=>{e.categoryList=t,e.cars["no-filter"]={value:[],page:0},t.forEach((t=>{e.cars[t.id]={value:[],page:0}}))},SET_CARS_DATA:(e,{carsData:t,categoryId:a})=>{if(a){const l=e.cars[a];l.value.push(...t.data.data),l.value.length<=t.data.count&&l.page++}else{const a=e.cars["no-filter"];a.value.push(...t.data.data),a.value.length<=t.data.count&&a.page++}},SET_RATE_TO_STATE:(e,t)=>{e.rateList=t.data.data},SET_ORDERID_TO_STATE:(e,t)=>{e.orderId=t.data.data.id},RESET_ORDERID_TO_STATE:e=>{e.orderId=""},SET_ORDERCONFIRMED_TO_STATE:(e,t)=>{e.orderConfirmed=t.data.data},RESET_ORDERCONFIRMED_TO_STATE:e=>{e.orderConfirmed={}},SET_SELECTEDCITY(e,t){e.selectedCity=t},RESET_SELECTEDCITY(e){e.selectedCity={}},SET_SELECTEDPOINT(e,t){e.selectedPoint=t},RESET_SELECTEDPOINT(e){e.selectedPoint={}},SET_CHECKEDCATEGORYCAR(e,t){e.checkedCategoryCars=t},RESET_CHECKEDCATEGORYCAR(e){e.checkedCategoryCars=""},SET_SELECTEDCAR(e,t){e.selectedCar=t},RESET_SELECTEDCAR(e){e.selectedCar={}},SET_SELECTEDCOLOR(e,t){e.selectedColor=t},RESET_SELECTEDCOLOR(e){e.selectedColor=""},SET_SELECTEDDATEFROM(e,t){e.selectedDateFrom=t.dateString,e.dateFrom=t.value},RESET_SELECTEDDATEFROM(e){e.selectedDateFrom="Введите дату и время...",e.dateFrom=0},SET_SELECTEDTIMEFROM(e,t){e.selectedTimeFrom=t.dateString,e.dateFrom=e.dateFrom+t.value},RESET_SELECTEDTIMEFROM(e){e.selectedTimeFrom="",e.dateFrom=0},SET_SELECTEDDATETO(e,t){e.selectedDateTo=t.dateString,e.dateTo=t.value},RESET_SELECTEDDATETO(e){e.selectedDateTo="Введите дату и время...",e.dateTo=0},SET_SELECTEDTIMETO(e,t){e.selectedTimeTo=t.dateString,e.dateTo=e.dateTo+t.value},RESET_SELECTEDTIMETO(e){e.selectedTimeTo="",e.dateTo=0},SET_RENTALDURATION(e,t){function a(e){let t=Math.floor(e/864e5);e-=864e5*t;let a=Math.floor(e/36e5);e-=36e5*a;let l=Math.floor(e/6e4);return{days:t,hours:a,minutes:l}}e.rentalDuration=a(t)},RESET_RENTALDURATION(e){e.rentalDuration=""},SET_SELECTEDRATE(e,t){e.selectedRate=t},RESET_SELECTEDRATE(e){e.selectedRate=""},SET_SELECTEDTANK(e,t){e.selectedTank=t},RESET_SELECTEDTANK(e){e.selectedTank=!1},SET_SELECTEDBABYCHAIR(e,t){e.selectedBabyChair=t},RESET_SELECTEDBABYCHAIR(e){e.selectedBabyChair=!1},SET_SELECTEDRIGHTHANDDRIVE(e,t){e.selectedRightHandDrive=t},RESET_SELECTEDRIGHTHANDDRIVE(e){e.selectedRightHandDrive=!1},SET_PRICESUMMARY(e,t){e.priceSummary=t},RESET_PRICESUMMARY(e){e.priceSummary=0},SET_POPUPCONFIRM(e){e.popUpConfirm=!0},RESET_POPUPCONFIRM(e){e.popUpConfirm=!1}},actions:{GET_CITYLIST_FROM_API({commit:e}){ci.getCities().then((t=>(e("SET_CITYLIST_TO_STATE",t),t))).catch((e=>(console.log(e),e)))},GET_POINTLIST_FROM_API({commit:e}){ci.getPoints().then((t=>(e("SET_POINTLIST_TO_STATE",t),t))).catch((e=>(console.log(e),e)))},async GET_CATEGORYLIST_FROM_API({commit:e}){const t=await ci.getCategories();e("SET_CATEGORYLIST_TO_STATE",t.data.data)},async GET_FILTEREDCARLIST_FROM_API({commit:e,state:t},a){if("no-filter"===a){const a=t.cars["no-filter"]?.page,l=await ci.getCars({page:a,limit:oi});e("SET_CARS_DATA",{carsData:l})}else{const l=t.cars[a]?.page,s=await ci.getCars({categoryId:a,page:l,limit:oi});e("SET_CARS_DATA",{carsData:s,categoryId:a})}},GET_RATE_FROM_API({commit:e}){ci.getRate().then((t=>(e("SET_RATE_TO_STATE",t),console.log(t),t))).catch((e=>(console.log(e),e)))},POST_ORDER_TO_API({commit:e}){ai()("https://api-factory.simbirsoft1.com/api/db/order",{method:"POST",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"},data:{orderStatusId:this.state.orderNewStatusId,cityId:this.state.selectedCity.id,pointId:this.state.selectedPoint.id,carId:this.state.selectedCar.id,color:this.state.selectedColor,dateFrom:this.state.dateFrom,dateTo:this.state.dateTo,rateId:this.state.selectedRate,price:this.state.priceSummary,isFullTank:this.state.selectedTank,isNeedChildChair:this.state.selectedBabyChair,isRightWheel:this.state.selectedRightHandDrive}}).then((t=>(e("SET_ORDERID_TO_STATE",t),t))).catch((e=>(console.log(e),e)))},PUT_CONFIRM_ORDERID_TO_API(){const e="https://api-factory.simbirsoft1.com/api/db/order/",t=e+this.state.orderId;ai()(t,{method:"PUT",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"},data:{orderStatusId:this.state.orderConfirmedStatusId}}).catch((e=>(console.log(e),e)))},GET_ORDER_FROM_API({commit:e}){const t="https://api-factory.simbirsoft1.com/api/db/order/",a=t+this.state.orderId;ai()(a,{method:"GET",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((t=>(e("SET_ORDERCONFIRMED_TO_STATE",t),console.log(t),t))).catch((e=>(console.log(e),e)))},PUT_CANCEL_ORDERID_TO_API(){const e="https://api-factory.simbirsoft1.com/api/db/order/",t=e+this.state.orderId;ai()(t,{method:"PUT",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"},data:{orderStatusId:this.state.orderCanceledStatusId}}).catch((e=>(console.log(e),e)))},GET_SELECTEDCITY({commit:e},t){t?e("SET_SELECTEDCITY",t):e("RESET_SELECTEDCITY")},GET_SELECTEDPOINT({commit:e},t){t?e("SET_SELECTEDPOINT",t):e("RESET_SELECTEDPOINT")},GET_CHECKEDCATEGORY({commit:e},t){t?e("SET_CHECKEDCATEGORYCAR",t):e("RESET_CHECKEDCATEGORYCAR")},GET_SELECTEDCAR({commit:e},t){t?e("SET_SELECTEDCAR",t):e("RESET_SELECTEDCAR")},GET_CHECKEDCOLOR({commit:e},t){t?e("SET_SELECTEDCOLOR",t):e("RESET_SELECTEDCOLOR")},GET_SELECTEDDATEFROM({commit:e},t){t?e("SET_SELECTEDDATEFROM",t):e("RESET_SELECTEDDATEFROM")},GET_SELECTEDTIMEFROM({commit:e},t){t?e("SET_SELECTEDTIMEFROM",t):e("RESET_SELECTEDTIMEFROM")},GET_SELECTEDDATETO({commit:e},t){t?e("SET_SELECTEDDATETO",t):e("RESET_SELECTEDDATETO")},GET_SELECTEDTIMETO({commit:e},t){t?e("SET_SELECTEDTIMETO",t):e("RESET_SELECTEDTIMETO")},GET_RENTALDURATION({commit:e},t){t?e("SET_RENTALDURATION",t):e("RESET_RENTALDURATION")},GET_CHECKEDRATE({commit:e},t){t?e("SET_SELECTEDRATE",t):e("RESET_SELECTEDRATE")},GET_CHECKEDTANK({commit:e},t){t?e("SET_SELECTEDTANK",t):e("RESET_SELECTEDTANK")},GET_CHECKEDBABYCHAIR({commit:e},t){t?e("SET_SELECTEDBABYCHAIR",t):e("RESET_SELECTEDBABYCHAIR")},GET_CHECKEDRIGHTHANDDRIVE({commit:e},t){t?e("SET_SELECTEDRIGHTHANDDRIVE",t):e("RESET_SELECTEDRIGHTHANDDRIVE")},GET_PRICESUMMARY({commit:e},t){t?e("SET_PRICESUMMARY",t):e("RESET_PRICESUMMARY")},GET_POPUPCONFIRM({commit:e},t){t?e("SET_POPUPCONFIRM",t):e("RESET_POPUPCONFIRM")},GET_ORDERID({commit:e},t){t?e("SET_ORDERID_TO_STATE",t):e("RESET_ORDERID_TO_STATE")},GET_ORDERCONFIRMED({commit:e},t){t?e("SET_ORDERCONFIRMED_TO_STATE",t):e("RESET_ORDERCONFIRMED_TO_STATE")}},getters:{FILTERED_POINTLIST(e){if(e.selectedCity?.id)return e.pointList.filter((t=>{if(t?.cityId?.id)return t.cityId.id.includes(e.selectedCity.id)}));{const e=[];return e}},FILTERED_CARSDATA_BY_CATEGORY:e=>t=>"no-filter"===t?e.cars["no-filter"]?.value:e.cars[t]?.value}});(0,l.ri)(U).use(di).use(ei).mount("#app")},273:function(e,t,a){e.exports=a.p+"img/map-marker.2d9af2fe.svg"},795:function(e,t,a){e.exports=a.p+"img/sprite.344b0cfb.svg"},715:function(e,t,a){e.exports=a.p+"img/slide_insurance.0560f4c6.jpg"},828:function(e,t,a){e.exports=a.p+"img/slide_parking.264e8bce.jpg"},983:function(e,t,a){e.exports=a.p+"img/slide_petrol.2321050a.jpg"},849:function(e,t,a){e.exports=a.p+"img/slide_service.bef68e53.jpg"}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,i){if(!l){var c=1/0;for(n=0;n<e.length;n++){l=e[n][0],s=e[n][1],i=e[n][2];for(var o=!0,d=0;d<l.length;d++)(!1&i||c>=i)&&Object.keys(a.O).every((function(e){return a.O[e](l[d])}))?l.splice(d--,1):(o=!1,i<c&&(c=i));if(o){e.splice(n--,1);var r=s();void 0!==r&&(t=r)}}return t}i=i||0;for(var n=e.length;n>0&&e[n-1][2]>i;n--)e[n]=e[n-1];e[n]=[l,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/nfd_vue3/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,i,c=l[0],o=l[1],d=l[2],r=0;if(c.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(d)var n=d(a)}for(t&&t(l);r<c.length;r++)i=c[r],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(n)},l=self["webpackChunkneed_for_drive_vue3"]=self["webpackChunkneed_for_drive_vue3"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(595)}));l=a.O(l)})();
//# sourceMappingURL=app.e50b9ffb.js.map