(function(){"use strict";var e={5456:function(e,t,a){var l=a(9963),s=a(6252);const i={class:"wrapper"};function r(e,t,a,l,r,c){const d=(0,s.up)("Vnavigation"),o=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(d),(0,s.Wm)(o)])}var c=a(3577);const d=e=>((0,s.dD)("data-v-73c33dcb"),e=e(),(0,s.Cn)(),e),o={class:"sidebar"},n={class:"navigation-wrp"},E=d((()=>(0,s._)("span",{class:"burger-button__line"},null,-1))),_=d((()=>(0,s._)("span",{class:"burger-button__line"},null,-1))),u=d((()=>(0,s._)("span",{class:"burger-button__line"},null,-1))),T=[E,_,u],m={class:"dropdown-nav"},p={class:"x-button"},C={class:"menu-wrp"},D={class:"menu"},h={class:"socialicons-list"},v={class:"langbutton-mobile"},g={class:"langbutton"};function R(e,t,a,i,r,d){const E=(0,s.up)("vicon"),_=(0,s.up)("router-link"),u=(0,s.up)("VLangButton");return(0,s.wg)(),(0,s.iD)("header",o,[(0,s._)("div",n,[(0,s._)("div",{class:"burger-button",onClick:t[0]||(t[0]=(...e)=>i.toggleNav&&i.toggleNav(...e))},T),(0,s.Wm)(l.uT,{name:"nav"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",m,[(0,s._)("div",p,[(0,s.Wm)(E,{"icon-id":"icon-x",width:"32",height:"32",onClick:i.toggleNav},null,8,["onClick"])]),(0,s._)("div",C,[(0,s._)("nav",null,[(0,s._)("ul",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.bmMenuList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"menu__item",key:e.id},[(0,s.Wm)(_,{class:"link",to:{name:e.link}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.title),1)])),_:2},1032,["to"])])))),128))])]),(0,s._)("ul",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.socialMediaList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"socialicons__item",key:e.id},[(0,s.Wm)(_,{class:"link",to:{name:e.link}},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{class:"icon_green","icon-id":e.iconId,width:e.width,height:e.height},null,8,["icon-id","width","height"])])),_:2},1032,["to"])])))),128))])]),(0,s._)("div",v,[(0,s.Wm)(u)])],512),[[l.F8,i.dropdownNav]])])),_:1})]),(0,s._)("div",g,[(0,s.Wm)(u)])])}var S=a(2262);const b=["width","height"],y=["xlink:href"];function I(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("svg",{class:"icon",width:a.width,height:a.height},[(0,s._)("use",{"xlink:href":l.iconPath},null,8,y)],8,b)}var k=a(7795),O={name:"v-icon",props:{iconId:{type:String,required:!0},width:{type:[Number,String],default:32},height:{type:[Number,String],default:32}},setup(e){const t=(0,s.Fl)((()=>`${k}#${e.iconId}`));return{iconPath:t}}},w=a(3744);const A=(0,w.Z)(O,[["render",I]]);var F=A;function f(e,t,a,i,r,c){const d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(d,{class:"link",to:{name:""}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"link__langbutton link__langbutton_mobile",onClick:t[0]||(t[0]=(...e)=>i.toggleLangIcon&&i.toggleLangIcon(...e))}," Eng ")])),_:1},512),[[l.F8,i.langButton]]),(0,s.wy)((0,s.Wm)(d,{class:"link",to:{name:""}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"link__langbutton link__langbutton_mobile",onClick:t[1]||(t[1]=(...e)=>i.toggleLangIcon&&i.toggleLangIcon(...e))}," Рус ")])),_:1},512),[[l.F8,!i.langButton]])],64)}var L={name:"v-lang-button",setup(){const e=(0,S.iH)(!0);function t(){e.value=!e.value}return{langButton:e,toggleLangIcon:t}}};const G=(0,w.Z)(L,[["render",f]]);var H=G,M={name:"v-navigation",components:{Vicon:F,VLangButton:H},setup(){const e=[{id:1,title:"Парковка",link:""},{id:2,title:"Страховка",link:""},{id:3,title:"Бензин",link:""},{id:4,title:"Обслуживание",link:""}],t=[{id:1,iconId:"icon-telegram",width:"32",height:"32",link:""}],a=(0,S.iH)(!0),l=(0,S.iH)(null);function s(){l.value=!l.value,a.value=!a.value}return{burgerButton:a,dropdownNav:l,bmMenuList:e,socialMediaList:t,toggleNav:s}}};const N=(0,w.Z)(M,[["render",R],["__scopeId","data-v-73c33dcb"]]);var V=N,P={components:{Vnavigation:V}};const K=(0,w.Z)(P,[["render",r]]);var Y=K,B=a(2119);const x={class:"main-wrp"},U={class:"left-wrp"},q={class:"about"},W=(0,s._)("h1",{class:"about__title"},"Каршеринг",-1),j=(0,s._)("p",{class:"about__title about__title_green"},"Need for drive",-1),z=(0,s._)("p",{class:"about__text"},"Поминутная аренда авто твоего города",-1),Z=(0,s._)("button",{class:"about__button"},"Забронировать",-1),$=(0,s._)("footer",{class:"footer"},[(0,s._)("p",{class:"footer__copyright"},"© 2016-2019 «Need for drive»"),(0,s._)("address",{class:"footer__phone"},[(0,s._)("a",{class:"footer__link",href:"tel:+74952342244"},"8 (495) 234-22-44")])],-1),X={class:"right-wrp"};function J(e,t,a,l,i,r){const c=(0,s.up)("Vheader"),d=(0,s.up)("router-link"),o=(0,s.up)("Vslider");return(0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("div",U,[(0,s.Wm)(c),(0,s._)("div",q,[W,j,z,(0,s.Wm)(d,{to:{name:"v-order"}},{default:(0,s.w5)((()=>[Z])),_:1})]),$]),(0,s._)("div",X,[(0,s.Wm)(o)])])}const Q={class:"header"},ee=(0,s._)("p",{class:"logo header__logo header__logo-order"},"Need for drive",-1),te={class:"header__map header__map-order"},ae=(0,s._)("span",null,"Ульяновск",-1);function le(e,t,a,l,i,r){const c=(0,s.up)("vicon"),d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",Q,[ee,(0,s._)("p",te,[(0,s.Wm)(d,{class:"city header__city",to:{name:""}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"header__icon","icon-id":"icon-map",width:"20",height:"20"}),ae])),_:1})])])}var se={name:"v-header",components:{Vicon:F}};const ie=(0,w.Z)(se,[["render",le]]);var re=ie;const ce=e=>((0,s.dD)("data-v-4389019c"),e=e(),(0,s.Cn)(),e),de={class:"slider-wrp"},oe={class:"slider-list"},ne=["index"],Ee={class:"slider-content"},_e={class:"slider-title"},ue={class:"slider-text"},Te=ce((()=>(0,s._)("span",{class:"sliderbtn__text"},"Подробнее",-1))),me=[Te],pe={class:"pagination-list"},Ce=["index"];function De(e,t,a,i,r,d){const o=(0,s.up)("router-link"),n=(0,s.up)("vicon");return(0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("ul",oe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sliderList,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,index:t},[(0,s.Wm)(l.uT,{name:i.slideDirection},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{class:"slider__item",style:(0,c.j5)(e)},[(0,s._)("div",Ee,[(0,s._)("p",_e,(0,c.zw)(e.title),1),(0,s._)("p",ue,(0,c.zw)(e.text),1),(0,s.Wm)(o,{to:{name:""}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:(0,c.C_)(["sliderbtn",{sliderbtn_insurance:2===e.id,sliderbtn_petrol:3===e.id,sliderbtn_service:4===e.id}])},me,2)])),_:2},1024)])],4),[[l.F8,i.visibleSlide===t]])])),_:2},1032,["name"])],8,ne)))),128)),(0,s._)("div",{class:"arrow-wrp arrow-wrp_prev",onClick:t[0]||(t[0]=(...e)=>i.changeSlidePrev&&i.changeSlidePrev(...e))},[(0,s.Wm)(n,{class:"arrow-slide arrow-slide_prev","icon-id":"icon-arrow-slider-prev",width:"10",height:"20"})]),(0,s._)("div",{class:"arrow-wrp arrow-wrp_next",onClick:t[1]||(t[1]=(...e)=>i.changeSlideNext&&i.changeSlideNext(...e))},[(0,s.Wm)(n,{class:"arrow-slide arrow-slide_next","icon-id":"icon-arrow-slider-next",width:"10",height:"20"})]),(0,s._)("ul",pe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sliderList,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,c.C_)(["pagination__item",{pagination__item_active:i.visibleSlide===t}]),key:e.id,index:t},null,10,Ce)))),128))])])])}var he={name:"v-slider",components:{Vicon:F},setup(){const e={backgroundRepeat:"no-repeat",backgroundSize:"cover"},t=[{...e,backgroundImage:`url(${a(3828)})`,title:"Бесплатная парковка",text:"Оставляйте машину на платных городских парковках и разрешенных местах, не нарушая ПДД, а также в аэропортах.",id:1},{...e,backgroundImage:`url(${a(715)})`,title:"Страховка",text:"Полная страховка страховка автомобиля",id:2},{...e,backgroundImage:`url(${a(8983)})`,title:"Бензин",text:"Полный бак на любой заправке города за наш счёт",id:3},{...e,backgroundImage:`url(${a(3849)})`,title:"Обслуживание",text:"Автомобиль проходит еженедельное ТО",id:4}],l=(0,S.iH)(0),s=(0,S.iH)("");function i(){l.value>0&&l.value--,s.value="right"}function r(){l.value<t.length-1&&l.value++,s.value="left"}return{sliderList:t,visibleSlide:l,slideDirection:s,changeSlidePrev:i,changeSlideNext:r}}};const ve=(0,w.Z)(he,[["render",De],["__scopeId","data-v-4389019c"]]);var ge=ve,Re={name:"v-main",components:{Vheader:re,Vslider:ge}};const Se=(0,w.Z)(Re,[["render",J]]);var be=Se;const ye={class:"order-wrp"};function Ie(e,t,a,l,i,r){const c=(0,s.up)("Vheader"),d=(0,s.up)("OrderWindow");return(0,s.wg)(),(0,s.iD)("div",ye,[(0,s.Wm)(c,{class:"order-center"}),(0,s.Wm)(d)])}const ke={class:"tabs"},Oe={class:"order"},we={class:"order__window"};function Ae(e,t,a,l,i,r){const c=(0,s.up)("VTabs"),d=(0,s.up)("VTotal");return(0,s.wg)(),(0,s.iD)("div",ke,[(0,s.Wm)(c,{tabs:l.filledUpData,selectedIndexTabs:l.selectedIndexTabs,selectedTab:l.selectedTab,onSwitchTab:l.updateSelectedTab},null,8,["tabs","selectedIndexTabs","selectedTab","onSwitchTab"]),(0,s._)("div",Oe,[(0,s._)("div",we,[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.selectedTab),{idTab:l.selectedTab,onOnTabReset:l.resetTabs},null,8,["idTab","onOnTabReset"]))]),(0,s.Wm)(d,{tabs:l.tabs,selectedId:l.selectedIndexTabs,selectedTab:l.selectedTab,onUpdateSelectedTab:l.updateSelectedTab},null,8,["tabs","selectedId","selectedTab","onUpdateSelectedTab"])])])}var Fe=a(3907);const fe={class:"tabs__border"},Le={class:"tab-list order-center"},Ge={class:"tab__item"},He=["disabled","onClick"],Me={class:"tab__item-icon"};function Ne(e,t,a,l,i,r){const d=(0,s.up)("Vicon");return(0,s.wg)(),(0,s.iD)("div",fe,[(0,s._)("ul",Le,[(0,s._)("li",Ge,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tabs,(e=>((0,s.wg)(),(0,s.iD)("button",{class:(0,c.C_)(["tab__item-btn",{tab__item_active:a.selectedTab===e.id,tab__item_filled:a.selectedTab!==e.id&&!e.isDisabled}]),key:e.id,disabled:e.isDisabled,onClick:t=>l.switchTab(e.id)},[(0,s.Uk)((0,c.zw)(e.label)+" ",1),(0,s._)("span",Me,[(0,s.Wm)(d,{"icon-id":"icon-arrow",width:"6",height:"8"})])],10,He)))),128))])])])}var Ve={name:"v-tabs",components:{Vicon:F},props:{tabs:{type:Array,required:!1},selectedTab:{type:String,required:!1}},setup(e,t){function a(e){t.emit("switchTab",e)}return{switchTab:a}}};const Pe=(0,w.Z)(Ve,[["render",Ne]]);var Ke=Pe;const Ye={class:"input-block"},Be=(0,s._)("p",{class:"place__text"},"Выбрать на карте",-1),xe={class:"map-wrp"};function Ue(e,t,a,l,i,r){const d=(0,s.up)("VDropdown"),o=(0,s.up)("MapComponent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ye,[(0,s.Wm)(d,{label:"Город",name:"city",placeholder:"Начните вводить город ...",itemList:l.cityList,selectedItem:l.selectedCity,onOnItemSelected:l.setSelectedCity,onOnItemReset:l.resetSelectedCity},null,8,["itemList","selectedItem","onOnItemSelected","onOnItemReset"]),(0,s.Wm)(d,{label:"Пункт выдачи",name:"point",placeholder:"Начните вводить пункт ...",class:(0,c.C_)({input_blocked:l.isSelectedCity}),itemList:l.filteredPointList,selectedItem:l.selectedPoint,onOnItemSelected:l.setSelectedPoint,onOnItemReset:l.resetSelectedPoint},null,8,["class","itemList","selectedItem","onOnItemSelected","onOnItemReset"])]),Be,(0,s._)("div",xe,[((0,s.wg)(),(0,s.j4)(o,{key:l.componentKey,chosenCityObj:l.chosenCityObj},null,8,["chosenCityObj"]))])])}const qe={class:"dropdown input-wrp"},We=["for"],je=["name","placeholder"],ze={class:"dropdown-list"},Ze=["onClick"];function $e(e,t,a,i,r,d){const o=(0,s.up)("vicon");return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("label",{class:"input-block__label",for:a.name},(0,c.zw)(a.label),9,We),(0,s.wy)((0,s._)("input",{class:"dropdown-input input-block__input","onUpdate:modelValue":t[0]||(t[0]=e=>i.inputValue=e),name:a.name,placeholder:a.placeholder,type:"text",autocomplete:"off",onFocus:t[1]||(t[1]=e=>i.isDropDownVisible=!0)},null,40,je),[[l.nr,i.inputValue,void 0,{trim:!0}]]),i.inputValue?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"input-block__cross-icon",onClick:t[2]||(t[2]=(...e)=>i.resetSelection&&i.resetSelection(...e))},[(0,s.Wm)(o,{"icon-id":"icon-cross",width:"8",height:"8"})])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("ul",ze,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"dropdown-item",key:e.id,onClick:t=>i.selectItem(e)},(0,c.zw)(e.name),9,Ze)))),128))],512),[[l.F8,i.isDropDownVisible]])])}var Xe={name:"v-dropdown",components:{Vicon:F},props:{itemList:{type:Array,required:!0},selectedItem:{type:Object,required:!0},placeholder:{type:String,required:!0},label:{type:String,required:!0},name:{type:String,required:!0}},setup(e,t){(0,s.bv)((()=>{0!==Object.keys(e.selectedItem).length?a.value=e.selectedItem.name:a.value=""})),(0,s.YP)((0,S.Vh)(e,"selectedItem"),(()=>{0===Object.keys(e.selectedItem).length&&(a.value="")}),{deep:!0});const a=(0,S.iH)(""),l=(0,S.iH)(null),i=(0,s.Fl)((()=>{let t=a.value.toLowerCase();return t?e.itemList.filter((e=>{if(e?.name){let a=e.name.toLowerCase();return a.startsWith(t)}})):e.itemList}));function r(e){0!==Object.keys(e).length?a.value=e.name:a.value="",l.value=!1,t.emit("on-item-selected",e)}function c(){a.value="",t.emit("on-item-reset")}return{inputValue:a,isDropDownVisible:l,filteredList:i,selectItem:r,resetSelection:c}}};const Je=(0,w.Z)(Xe,[["render",$e]]);var Qe=Je;const et={ref:"mapRef",style:{width:"100%",height:"100%"}};function tt(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("div",et,null,512)}var at={name:"map-component",props:{chosenCityObj:{type:Object}},setup(e){const t=(0,Fe.oR)(),l=window.ymaps,i=(0,S.iH)(null),r=(0,s.Fl)((()=>t.state.selectedCity)),c=(0,s.Fl)((()=>t.state.selectedPoint));function d(t){let s=[],i=null;if(0!==Object.keys(c.value).length){const t=e.chosenCityObj.points.find((e=>e.id===c.value.id));t&&(s=t.coordsPoint),i=15}else 0!==Object.keys(r.value).length?(s=e.chosenCityObj.coords,i=12):(s=[67.010134,94.337659],i=3);const d=new l.Map(t,{center:s,zoom:i,controls:[]});if(e.chosenCityObj?.points)for(let r=0;r<e.chosenCityObj.points.length;r++){const t=new l.Placemark(e.chosenCityObj.points[r].coordsPoint,{hintContent:e.chosenCityObj.points[r].name,balloonContent:e.chosenCityObj.points[r].name},{iconLayout:"default#image",iconImageHref:`${a(4273)}`,iconImageSize:[18,18]});d.geoObjects.add(t)}}return(0,s.bv)((()=>{l.ready((()=>d(i.value)))})),{ymaps:l,mapRef:i,selectedCity:r,selectedPoint:c}}};const lt=(0,w.Z)(at,[["render",tt]]);var st=lt,it={name:"order-place",components:{VDropdown:Qe,MapComponent:st},props:["idTab"],setup(e,t){const a=(0,Fe.oR)(),l=[{id:1,name:"Санкт-Петербург",coords:[59.939099,30.315877]},{id:2,name:"Ульяновск",coords:[54.314192,48.403132]},{id:3,name:"Казань",coords:[55.796127,49.106414]}],i=[{id:1,name:"Мариинская гимназия",coords:[54.31228,48.395406]},{id:2,name:"Центр",coords:[54.31228,48.395406]},{id:3,name:"Авторынок",coords:[55.843168,49.135409]}],r=(0,S.iH)(0),c=(0,s.Fl)((()=>a.getters.FILTERED_POINTLIST)),d=(0,s.Fl)((()=>a.state.cityList)),o=(0,s.Fl)((()=>a.state.selectedCity)),n=(0,s.Fl)((()=>a.state.selectedPoint)),E=(0,s.Fl)((()=>{let e={};for(let t=0;t<l.length;t++)o.value.id===l[t].id&&(e={...o.value,coords:l[t].coords,points:_.value});return e})),_=(0,s.Fl)((()=>c.value.map((e=>{const t=i.find((t=>t.id===e.id));return t?{...e,coordsPoint:t.coords}:e})))),u=(0,s.Fl)((()=>0===Object.keys(o.value).length)),T=()=>{a.dispatch("GET_CITYLIST_FROM_API")},m=()=>{a.dispatch("GET_POINTLIST_FROM_API")},p=e=>{a.dispatch("GET_SELECTEDCITY",e)},C=()=>{a.dispatch("GET_SELECTEDCITY"),a.dispatch("GET_SELECTEDPOINT"),a.dispatch("GET_CHECKEDCATEGORY"),a.dispatch("GET_SELECTEDCAR"),a.dispatch("GET_CHECKEDCOLOR"),a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset",e.idTab)},D=e=>{a.dispatch("GET_SELECTEDPOINT",e)},h=()=>{a.dispatch("GET_SELECTEDPOINT"),a.dispatch("GET_CHECKEDCATEGORY"),a.dispatch("GET_SELECTEDCAR"),a.dispatch("GET_CHECKEDCOLOR"),a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset",e.idTab)},v=()=>{r.value+=1};return T(),m(),(0,s.YP)([o,n],(()=>{v()})),{cityListCoords:l,pointListCoords:i,componentKey:r,cityList:d,selectedCity:o,selectedPoint:n,filteredPointList:c,chosenCityObj:E,newPointListWithCoordsArr:_,isSelectedCity:u,setSelectedCity:p,resetSelectedCity:C,setSelectedPoint:D,resetSelectedPoint:h,getCityListFromApi:T,getPointListFromApi:m,forceRerenderMap:v}}};const rt=(0,w.Z)(it,[["render",Ue]]);var ct=rt;const dt={class:"radio-list"},ot={class:"cars-list"},nt=["onClick"],Et={class:"cars__model"},_t={class:"cars__price"},ut=["src","alt"];function Tt(e,t,a,i,r,d){const o=(0,s.up)("VRadio"),n=(0,s.up)("Preloader"),E=(0,s.up)("Observer");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dt,[(0,s.Wm)(o,{checkedValue:i.categoryCars,"onUpdate:checkedValue":t[0]||(t[0]=e=>i.categoryCars=e),label:"Все модели",value:"no-filter",onChange:i.resetSelectedCategoryCar},null,8,["checkedValue","onChange"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.categoryList,(e=>((0,s.wg)(),(0,s.j4)(o,{checkedValue:i.categoryCars,"onUpdate:checkedValue":t[1]||(t[1]=e=>i.categoryCars=e),key:e.id,label:e.name,value:e.id},null,8,["checkedValue","label","value"])))),128))]),(0,s._)("ul",ot,[(0,s.wy)((0,s.Wm)(n,null,null,512),[[l.F8,i.togglePreloader]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredCarList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,c.C_)(["cars__item",{cars__item_active:i.selectedCar.id===e.id}]),key:e.id,onClick:t=>i.setSelectedCar(e)},[(0,s._)("p",Et,(0,c.zw)(e.name),1),(0,s._)("p",_t,(0,c.zw)(e.priceMin)+" - "+(0,c.zw)(e.priceMax)+" руб.",1),(0,s._)("img",{loading:"lazy",class:"cars__img",src:e.thumbnail.path,alt:e.thumbnail.originalname},null,8,ut)],10,nt)))),128)),(0,s.Wm)(E,{onIntersect:i.intersected},null,8,["onIntersect"])])])}const mt=["checked","value"];function pt(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("label",{class:(0,c.C_)(["radio-item",{item_active:l.isChecked}])},[(0,s.Uk)((0,c.zw)(a.label)+" ",1),(0,s._)("input",{class:"radio__input",type:"radio",checked:l.isChecked,value:a.value,onChange:t[0]||(t[0]=t=>e.$emit("update:checkedValue",t.target.value))},null,40,mt),(0,s._)("span",{class:(0,c.C_)(["checkmark",{checkmark_notactive:!l.isChecked}])},null,2)],2)}var Ct={name:"v-radio",props:{label:{type:String,default:"",required:!0},checkedValue:{type:[String,Number]},value:{type:[String,Number]}},setup(e){const t=(0,s.Fl)((()=>e.checkedValue==e.value));return{isChecked:t}}};const Dt=(0,w.Z)(Ct,[["render",pt]]);var ht=Dt;const vt={class:"spinner-wrp"},gt=(0,s._)("div",{class:"lds-spinner"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1),Rt=[gt];function St(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("div",vt,Rt)}var bt={name:"preloader"};const yt=(0,w.Z)(bt,[["render",St]]);var It=yt;const kt={class:"observer"};function Ot(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("div",kt)}var wt={props:["options"],setup(e,t){const a=(0,S.iH)(null);return(0,s.bv)((()=>{const l=e.options||{};a.value=new IntersectionObserver((([e])=>{e&&e.isIntersecting&&t.emit("intersect")}),l);const s=document.querySelector(".observer");a.value.observe(s)})),(0,s.Ah)((()=>{a.value.disconnect()})),{observer:a}}};const At=(0,w.Z)(wt,[["render",Ot]]);var Ft=At,ft={name:"order-model",components:{VRadio:ht,Preloader:It,Observer:Ft},setup(e,t){const a=(0,Fe.oR)(),l=(0,s.Fl)((()=>a.state.categoryList)),i=(0,s.Fl)((()=>a.getters.FILTERED_CARSDATA_BY_CATEGORY(d.value))),r=(0,s.Fl)((()=>a.state.selectedCar)),c=(0,s.Fl)((()=>0===i.value?.length)),d=(0,s.Fl)({get:()=>a.state.checkedCategoryCars||"no-filter",set:e=>{a.dispatch("GET_CHECKEDCATEGORY",e)}}),o=()=>a.dispatch("GET_CATEGORYLIST_FROM_API"),n=e=>a.dispatch("GET_FILTEREDCARLIST_FROM_API",e),E=e=>a.dispatch("GET_SELECTEDCAR",e),_=()=>{a.dispatch("GET_CHECKEDCATEGORY"),a.dispatch("GET_SELECTEDCAR"),a.dispatch("GET_CHECKEDCOLOR"),a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-model")},u=async()=>{await o()};u();const T=async()=>{await n(d.value)};return{categoryList:l,filteredCarList:i,intersected:T,selectedCar:r,togglePreloader:c,categoryCars:d,setSelectedCar:E,resetSelectedCategoryCar:_}}};const Lt=(0,w.Z)(ft,[["render",Tt]]);var Gt=Lt;const Ht={class:"additional-wrp"},Mt=(0,s._)("p",{class:"additional__text"},"Цвета",-1),Nt={class:"radio-list"},Vt=(0,s._)("p",{class:"additional__text"},"Дата аренды",-1),Pt={class:"additional-input__wrp"},Kt=(0,s._)("p",{class:"additional__text"},"Тариф",-1),Yt=(0,s._)("p",{class:"additional__text"},"Доп услуги",-1);function Bt(e,t,a,l,i,r){const d=(0,s.up)("VRadio"),o=(0,s.up)("VSelectDouble"),n=(0,s.up)("VCheckbox");return(0,s.wg)(),(0,s.iD)("div",Ht,[Mt,(0,s._)("div",Nt,[(0,s.Wm)(d,{checkedValue:l.checkedColor,"onUpdate:checkedValue":t[0]||(t[0]=e=>l.checkedColor=e),label:"Любой",onChange:l.resetSelectedColor},null,8,["checkedValue","onChange"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedCar.colors,(e=>((0,s.wg)(),(0,s.j4)(d,{checkedValue:l.checkedColor,"onUpdate:checkedValue":t[1]||(t[1]=e=>l.checkedColor=e),key:e,label:e,value:e},null,8,["checkedValue","label","value"])))),128))]),Vt,(0,s._)("div",Pt,[(0,s._)("p",null,[(0,s.Wm)(o,{optionsDate:l.arrayDate,optionsTime:l.arrayTime,onSelectDate:l.setSelectedDateFrom,onSelectTime:l.setSelectedTimeFrom,onReset:l.resetSelectedFrom,selectedDate:l.selectedDateFrom,selectedTime:l.selectedTimeFrom,pretext:"C"},null,8,["optionsDate","optionsTime","onSelectDate","onSelectTime","onReset","selectedDate","selectedTime"])]),(0,s._)("p",null,[(0,s.Wm)(o,{class:(0,c.C_)({select_blocked:!l.isSelectedDateFrom}),optionsDate:l.arrayDate,optionsTime:l.arrayTime,onSelectDate:l.setSelectedDateTo,onSelectTime:l.setSelectedTimeTo,onReset:l.resetSelectedTo,selectedDate:l.selectedDateTo,selectedTime:l.selectedTimeTo,pretext:"По"},null,8,["class","optionsDate","optionsTime","onSelectDate","onSelectTime","onReset","selectedDate","selectedTime"])])]),Kt,(0,s._)("div",{class:(0,c.C_)(["tarif-wrp",{select_blocked:!l.isSelectedDateFromTo}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.rateList,(e=>((0,s.wg)(),(0,s.j4)(d,{checkedValue:l.checkedRate,"onUpdate:checkedValue":t[2]||(t[2]=e=>l.checkedRate=e),key:e.id,label:`${e?.rateTypeId?.name} ${e?.price}Р/${e?.rateTypeId?.unit}`,value:e.id},null,8,["checkedValue","label","value"])))),128))],2),Yt,(0,s._)("div",{class:(0,c.C_)(["services-wrp",{select_blocked:!l.isSelectedDateRate}])},[(0,s.Wm)(n,{modelValue:l.checkedTank,"onUpdate:modelValue":t[3]||(t[3]=e=>l.checkedTank=e),label:"Полный бак, 500р"},null,8,["modelValue"]),(0,s.Wm)(n,{modelValue:l.checkedBabyChair,"onUpdate:modelValue":t[4]||(t[4]=e=>l.checkedBabyChair=e),label:"Детское кресло, 200р"},null,8,["modelValue"]),(0,s.Wm)(n,{modelValue:l.checkedRightHandDrive,"onUpdate:modelValue":t[5]||(t[5]=e=>l.checkedRightHandDrive=e),label:"Правый руль, 1600р"},null,8,["modelValue"])],2)])}const xt={class:"select"},Ut={class:"select__text pretext"},qt={class:"select-block"},Wt={key:0,class:"select__options"},jt={class:"select__options-list"},zt=["onClick"],Zt=["onClick"];function $t(e,t,a,l,i,r){const d=(0,s.up)("vicon");return(0,s.wg)(),(0,s.iD)("div",xt,[(0,s._)("div",Ut,(0,c.zw)(a.pretext),1),(0,s._)("div",qt,[(0,s._)("p",{class:(0,c.C_)(["select__title select__text",{placeholder:"Введите дату и время..."===a.selectedDate}])},[(0,s._)("span",{class:"select__text-inside",onClick:t[0]||(t[0]=e=>l.areOptionsVisible=!l.areOptionsVisible)},(0,c.zw)(a.selectedDate)+" "+(0,c.zw)(a.selectedTime),1),"Введите дату и время..."!==a.selectedDate?((0,s.wg)(),(0,s.iD)("span",{key:0,onClick:t[1]||(t[1]=(...e)=>l.resetOption&&l.resetOption(...e))},[(0,s.Wm)(d,{"icon-id":"icon-cross",width:"8",height:"8"})])):(0,s.kq)("",!0)],2),l.areOptionsVisible?((0,s.wg)(),(0,s.iD)("div",Wt,[(0,s._)("div",jt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.optionsDate,(e=>((0,s.wg)(),(0,s.iD)("p",{class:(0,c.C_)(["select__options-item select__text",{item_blocked:e.value<l.chosenDateFromMs}]),key:e.id,onClick:t=>l.selectDate(e)},(0,c.zw)(e.dateString),11,zt)))),128))]),(0,s._)("div",{class:(0,c.C_)(["select__options-list",{list_blocked:"Введите дату и время..."===a.selectedDate}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.optionsTime,(e=>((0,s.wg)(),(0,s.iD)("p",{class:(0,c.C_)(["select__options-item select__text",{item_blocked:l.isItemBlocked(e)}]),key:e.id,onClick:t=>l.selectTime(e)},(0,c.zw)(e.dateString),11,Zt)))),128))],2)])):(0,s.kq)("",!0)])])}var Xt={name:"v-selectdouble",components:{Vicon:F},props:{optionsDate:{type:Array,default(){return[]}},optionsTime:{type:Array,default(){return[]}},selectedDate:{type:String,default:""},selectedTime:{type:String,default:""},pretext:{type:String,default:""}},setup(e,t){const a=(0,Fe.oR)(),l=(0,S.iH)(!1),i=(0,s.Fl)((()=>a.state.chosenDateFromMs)),r=(0,s.Fl)((()=>a.state.chosenTimeFromMs)),c=(0,s.Fl)((()=>a.state.chosenDateToMs)),d=(0,s.Fl)((()=>a.state.chosenTimeToMs)),o=a=>{t.emit("selectDate",a),""!==e.selectedTime&&(l.value=!1)},n=a=>{t.emit("selectTime",a),"Введите дату и время..."!==e.selectedDate&&(l.value=!1)},E=()=>{t.emit("reset"),"Введите дату и время..."!==e.selectedDate&&""!==e.selectedTime&&(l.value=!1)},_=e=>i.value===c.value&&e.value<=r.value;return{areOptionsVisible:l,chosenDateFromMs:i,chosenTimeFromMs:r,chosenDateToMs:c,chosenTimeToMs:d,selectDate:o,selectTime:n,resetOption:E,isItemBlocked:_}}};const Jt=(0,w.Z)(Xt,[["render",$t],["__scopeId","data-v-3ad4efd1"]]);var Qt=Jt;const ea=e=>((0,s.dD)("data-v-0ef12d3c"),e=e(),(0,s.Cn)(),e),ta=["checked"],aa=ea((()=>(0,s._)("span",{class:"checkmark-box"},null,-1)));function la(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("label",{class:(0,c.C_)(["checkbox-item",{item_active:l.isChecked}])},[(0,s.Uk)((0,c.zw)(a.label)+" ",1),(0,s._)("input",{class:"checkbox__input",type:"checkbox",checked:l.isChecked,onChange:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e))},null,40,ta),aa],2)}var sa={props:{modelValue:null,label:{type:String,required:!0},trueValue:{default:!0},falseValue:{default:!1}},setup(e,t){const a=(0,s.Fl)((()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===e.trueValue)),l=a=>{const l=a.target.checked;if(e.modelValue instanceof Array){const a=[...e.modelValue];l?a.push(e.value):a.splice(a.indexOf(e.value),1),t.emit("update:modelValue",a)}else t.emit("update:modelValue",l?e.trueValue:e.falseValue)};return{isChecked:a,updateInput:l}}};const ia=(0,w.Z)(sa,[["render",la],["__scopeId","data-v-0ef12d3c"]]);var ra=ia,ca={name:"order-additional",components:{VRadio:ht,VSelectDouble:Qt,VCheckbox:ra},setup(e,t){const a=(0,Fe.oR)(),l=(0,S.iH)([]),i=(0,S.iH)([]),r=(0,s.Fl)((()=>a.state.rateList)),c=(0,s.Fl)((()=>a.state.selectedCar)),d=(0,s.Fl)((()=>a.state.selectedColor)),o=(0,s.Fl)((()=>a.state.selectedDateFrom)),n=(0,s.Fl)((()=>a.state.selectedTimeFrom)),E=(0,s.Fl)((()=>a.state.selectedDateTo)),_=(0,s.Fl)((()=>a.state.selectedTimeTo)),u=(0,s.Fl)((()=>a.state.dateFrom)),T=(0,s.Fl)((()=>a.state.dateTo)),m=(0,s.Fl)((()=>a.state.selectedRate)),p=(0,s.Fl)((()=>a.state.selectedTank)),C=(0,s.Fl)((()=>a.state.selectedBabyChair)),D=(0,s.Fl)((()=>a.state.selectedRightHandDrive)),h=(0,s.Fl)({get:()=>d.value,set:e=>a.dispatch("GET_CHECKEDCOLOR",e)}),v=(0,s.Fl)({get:()=>m.value,set:e=>a.dispatch("GET_CHECKEDRATE",e)}),g=(0,s.Fl)({get:()=>p.value,set:e=>a.commit("SET_SELECTEDTANK",e)}),R=(0,s.Fl)({get:()=>C.value,set:e=>a.commit("SET_SELECTEDBABYCHAIR",e)}),b=(0,s.Fl)({get:()=>D.value,set:e=>a.commit("SET_SELECTEDRIGHTHANDDRIVE",e)}),y=(0,s.Fl)((()=>u.value)),I=(0,s.Fl)((()=>u.value&&T.value)),k=(0,s.Fl)((()=>u.value&&T.value&&m.value)),O=()=>a.dispatch("GET_RATE_FROM_API"),w=()=>{a.dispatch("GET_CHECKEDCOLOR")},A=()=>{const e=new Date;e.setHours(0,0,0);for(let t=0;t<=90;t++){e.setDate(e.getDate()+1);const a=f(e),s={id:t,value:e.getTime(),dateString:a};l.value.push(s)}},F=()=>{const e=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];for(let t=0;t<e.length;t++){const a=e[t].split(":"),l=36e5*a[0]+6e4*a[1],s={id:t,value:l,dateString:e[t]};i.value.push(s)}},f=e=>{const t=e.getDate().toString().length<2?"0"+e.getDate():e.getDate(),a=e.getMonth().toString().length<2?"0"+(e.getMonth()+1):e.getMonth()+1,l=e.getFullYear().toString();return`${t}.${a}.${l}`},L=e=>{a.dispatch("GET_SELECTEDDATEFROM",e)},G=()=>{a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-additional")},H=e=>{a.dispatch("GET_SELECTEDTIMEFROM",e)},M=()=>{a.dispatch("GET_SELECTEDTIMEFROM")},N=()=>{a.dispatch("GET_SELECTEDDATEFROM"),a.dispatch("GET_SELECTEDTIMEFROM"),a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-additional")},V=e=>{a.dispatch("GET_SELECTEDDATETO",e)},P=()=>{a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION")},K=e=>{a.dispatch("GET_SELECTEDTIMETO",e);const t=T.value-u.value;a.dispatch("GET_RENTALDURATION",t)},Y=()=>{a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION")},B=()=>{a.dispatch("GET_SELECTEDDATETO"),a.dispatch("GET_SELECTEDTIMETO"),a.dispatch("GET_RENTALDURATION"),a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),t.emit("on-tab-reset","order-additional")},x=e=>{a.dispatch("GET_CHECKEDRATE",e)},U=()=>{a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE")},q=e=>{a.dispatch("GET_CHECKEDTANK",e)},W=()=>{a.dispatch("GET_CHECKEDTANK")},j=e=>{a.dispatch("GET_CHECKEDBABYCHAIR",e)},z=()=>{a.dispatch("GET_CHECKEDBABYCHAIR")},Z=e=>{a.dispatch("GET_CHECKEDRIGHTHANDDRIVE",e)},$=()=>{a.dispatch("GET_CHECKEDRIGHTHANDDRIVE")};return(0,s.bv)((()=>{A(),F()})),O(),{arrayDate:l,arrayTime:i,rateList:r,selectedCar:c,selectedColor:d,selectedDateFrom:o,selectedTimeFrom:n,selectedDateTo:E,selectedTimeTo:_,dateStateFrom:u,dateStateTo:T,selectedRate:m,selectedTank:p,selectedBabyChair:C,selectedRightHandDrive:D,checkedColor:h,checkedRate:v,checkedTank:g,checkedBabyChair:R,checkedRightHandDrive:b,isSelectedDateFrom:y,isSelectedDateFromTo:I,isSelectedDateRate:k,getRateFromApi:O,resetSelectedColor:w,setSelectedDateFrom:L,resetSelectedDateFrom:G,setSelectedTimeFrom:H,resetSelectedTimeFrom:M,resetSelectedFrom:N,setSelectedDateTo:V,resetSelectedDateTo:P,setSelectedTimeTo:K,resetSelectedTimeTo:Y,resetSelectedTo:B,setSelectedRate:x,resetSelectedRate:U,setSelectedTank:q,resetSelectedTank:W,setSelectedBabyChair:j,resetSelectedBabyChair:z,setSelectedRightHandDrive:Z,resetSelectedRightHandDrive:$}}};const da=(0,w.Z)(ca,[["render",Bt]]);var oa=da;const na={class:"summary__wrp"},Ea={class:"summary__car-name"},_a={class:"car-number__wrp"},ua={class:"summary__car-number"},Ta={key:0,class:"summary__additional"},ma=(0,s._)("dt",{class:"summary__additional-title"},"Топливо",-1),pa=(0,s._)("dd",{class:"summary__selected-value"},"100%",-1),Ca=[ma,pa],Da={key:1,class:"summary__additional"},ha=(0,s._)("dt",{class:"summary__additional-title"},"Детское кресло",-1),va=(0,s._)("dd",{class:"summary__selected-value"},"Да",-1),ga=[ha,va],Ra={key:2,class:"summary__additional"},Sa=(0,s._)("dt",{class:"summary__additional-title"},"Правый руль",-1),ba=(0,s._)("dd",{class:"summary__selected-value"},"Да",-1),ya=[Sa,ba],Ia={class:"summary__additional"},ka=(0,s._)("dt",{class:"summary__additional-title"},"Доступна с",-1),Oa={class:"summary__selected-value"},wa=["src","alt"];function Aa(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("div",na,[(0,s._)("div",null,[(0,s._)("p",Ea,(0,c.zw)(l.selectedCar.name),1),(0,s._)("div",_a,[(0,s._)("p",ua,(0,c.zw)(l.selectedCar.number),1)]),l.selectedTank?((0,s.wg)(),(0,s.iD)("dl",Ta,Ca)):(0,s.kq)("",!0),l.selectedBabyChair?((0,s.wg)(),(0,s.iD)("dl",Da,ga)):(0,s.kq)("",!0),l.selectedRightHandDrive?((0,s.wg)(),(0,s.iD)("dl",Ra,ya)):(0,s.kq)("",!0),(0,s._)("dl",Ia,[ka,(0,s._)("dd",Oa,(0,c.zw)(l.selectedDateFrom)+" "+(0,c.zw)(l.selectedTimeFrom),1)])]),(0,s._)("img",{class:"car__img",src:l.carImg.path,alt:l.carImg.originalname},null,8,wa)])}var Fa={name:"order-summary",setup(){const e=(0,Fe.oR)(),t=(0,s.Fl)((()=>e.state.selectedCar)),a=(0,s.Fl)((()=>e.state.selectedColor)),l=(0,s.Fl)((()=>e.state.selectedDateFrom)),i=(0,s.Fl)((()=>e.state.selectedTimeFrom)),r=(0,s.Fl)((()=>e.state.selectedRate)),c=(0,s.Fl)((()=>e.state.selectedTank)),d=(0,s.Fl)((()=>e.state.selectedBabyChair)),o=(0,s.Fl)((()=>e.state.selectedRightHandDrive)),n=(0,s.Fl)((()=>0!==Object.keys(t.value.thumbnail).length?t.value.thumbnail:{}));return{selectedCar:t,selectedColor:a,selectedDateFrom:l,selectedTimeFrom:i,selectedRate:r,selectedTank:c,selectedBabyChair:d,selectedRightHandDrive:o,carImg:n}}};const fa=(0,w.Z)(Fa,[["render",Aa]]);var La=fa;const Ga={class:"total"},Ha=(0,s._)("p",{class:"total__title"},"Ваш заказ:",-1),Ma={class:"total-list"},Na={class:"total__item"},Va=(0,s._)("span",{class:"total__item-title"},"Пункт выдачи",-1),Pa={class:"total__item-value"},Ka={key:0,class:"total__item"},Ya=(0,s._)("span",{class:"total__item-title"},"Модель",-1),Ba={class:"total__item-value"},xa={key:1,class:"total__item"},Ua=(0,s._)("span",{class:"total__item-title"},"Цвет",-1),qa={class:"total__item-value"},Wa={key:2,class:"total__item"},ja=(0,s._)("span",{class:"total__item-title"},"Длительность аренды",-1),za={key:0,class:"total__item-value"},Za={key:1,class:"total__item-value"},$a={key:3,class:"total__item"},Xa=(0,s._)("span",{class:"total__item-title"},"Тариф",-1),Ja={class:"total__item-value"},Qa={key:4,class:"total__item"},el=(0,s._)("span",{class:"total__item-title"},"Полный бак",-1),tl=(0,s._)("span",{class:"total__item-value"},"Да",-1),al=[el,tl],ll={key:5,class:"total__item"},sl=(0,s._)("span",{class:"total__item-title"},"Детское кресло",-1),il=(0,s._)("span",{class:"total__item-value"},"Да",-1),rl=[sl,il],cl={key:6,class:"total__item"},dl=(0,s._)("span",{class:"total__item-title"},"Правый руль",-1),ol=(0,s._)("span",{class:"total__item-value"},"Да",-1),nl=[dl,ol],El={key:0,class:"total__price"},_l=(0,s.Uk)(" Цена: "),ul={key:0,class:"total__price total__price-thin"},Tl={key:1,class:"total__price total__price-thin"},ml=["disabled","onClick"];function pl(e,t,a,l,i,r){const d=(0,s.up)("PopUp");return(0,s.wg)(),(0,s.iD)("div",Ga,[Ha,(0,s._)("ul",Ma,[(0,s._)("li",Na,[Va,(0,s._)("div",Pa,[(0,s._)("span",null,(0,c.zw)(l.selectedCity.name),1),(0,s._)("span",null,(0,c.zw)(l.selectedPoint.name),1)])]),l.selectedCar.name?((0,s.wg)(),(0,s.iD)("li",Ka,[Ya,(0,s._)("span",Ba,(0,c.zw)(l.selectedCar.name),1)])):(0,s.kq)("",!0),l.selectedColor?((0,s.wg)(),(0,s.iD)("li",xa,[Ua,(0,s._)("span",qa,(0,c.zw)(l.selectedColor),1)])):(0,s.kq)("",!0),l.rentalDuration?((0,s.wg)(),(0,s.iD)("li",Wa,[ja,l.rentalDuration.days?((0,s.wg)(),(0,s.iD)("span",za,(0,c.zw)(l.rentalDuration.days)+"д ",1)):(0,s.kq)("",!0),l.rentalDuration.hours?((0,s.wg)(),(0,s.iD)("span",Za,(0,c.zw)(l.rentalDuration.hours)+"ч ",1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),l.getNameRate?((0,s.wg)(),(0,s.iD)("li",$a,[Xa,(0,s._)("span",Ja,(0,c.zw)(l.getNameRate),1)])):(0,s.kq)("",!0),l.selectedTank?((0,s.wg)(),(0,s.iD)("li",Qa,al)):(0,s.kq)("",!0),l.selectedBabyChair?((0,s.wg)(),(0,s.iD)("li",ll,rl)):(0,s.kq)("",!0),l.selectedRightHandDrive?((0,s.wg)(),(0,s.iD)("li",cl,nl)):(0,s.kq)("",!0)]),l.selectedCar.name?((0,s.wg)(),(0,s.iD)("p",El,[_l,l.getPriceSummary?((0,s.wg)(),(0,s.iD)("span",ul,(0,c.zw)(l.getPriceSummary)+" ₽ ",1)):((0,s.wg)(),(0,s.iD)("span",Tl," от "+(0,c.zw)(l.selectedCar.priceMin)+" до "+(0,c.zw)(l.selectedCar.priceMax)+" ₽ ",1))])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.buttons,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[a.selectedTab===e.id?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,c.C_)([{total__button_active:!l.isButtonDisabled(e)},"total__button"]),disabled:l.isButtonDisabled(e),onClick:t=>l.buttonAction(e)},(0,c.zw)(e.name),11,ml)):(0,s.kq)("",!0)])))),128)),l.popUpIsActive?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:1,onClosePopup:l.closePopUp},null,8,["onClosePopup"]))])}const Cl={class:"modal-mask"},Dl={class:"modal-container"},hl={key:0,class:"modal-body"},vl={key:1,class:"modal-body"},gl={class:"modal-footer"};function Rl(e,t,a,i,r,d){const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(l.uT,{name:"modal"},{default:(0,s.w5)((()=>[(0,s._)("div",Cl,[(0,s._)("div",Dl,[i.errorStatus?((0,s.wg)(),(0,s.iD)("p",hl," Ошибка сервера - "+(0,c.zw)(i.errorStatus),1)):((0,s.wg)(),(0,s.iD)("p",vl,"Подтвердить заказ")),(0,s._)("div",gl,[i.orderId?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"v-orderid",params:{id:i.orderId}}},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"modal-button",onClick:t[0]||(t[0]=(...e)=>i.confirmOrder&&i.confirmOrder(...e))}," Подтвердить ")])),_:1},8,["to"])):(0,s.kq)("",!0),(0,s._)("button",{class:"modal-button modal-button_colored",onClick:t[1]||(t[1]=(...e)=>i.closePopUp&&i.closePopUp(...e))}," Вернуться ")])])])])),_:1})}var Sl=a(9669),bl=a.n(Sl);const yl=bl().create({baseURL:"https://frontend-study.simbirsoft.dev/api"});yl.defaults.headers.common["X-Api-Factory-Application-Id"]="5e25c641099b810b946c5d5b";var Il=yl;const kl={CITY:"/db/city",POINT:"/db/point",CATEGORY:"/db/category",CAR:"/db/car",RATE:"/db/rate",ORDER:"db/order"};var Ol={getCities(){return Il.get(kl.CITY)},getPoints(){return Il.get(kl.POINT)},getCategories(){return Il.get(kl.CATEGORY)},getCars(e={}){return Il.get(kl.CAR,{params:e})},getRate(){return Il.get(kl.RATE)},postOrder(e={}){return Il.post(kl.ORDER,{...e})},putOrder(e,t={}){return Il.put(kl.ORDER+"/"+e,{...t})},getOrder(e){return Il.get(kl.ORDER+"/"+e)}},wl={name:"popup",setup(e,t){const a=(0,Fe.oR)(),l={id:5,name:"Подтвержденный"},i=(0,s.Fl)((()=>a.state.orderId)),r=(0,s.Fl)((()=>a.state.errorStatus)),c=(0,s.Fl)((()=>a.state.selectedCity)),d=(0,s.Fl)((()=>a.state.selectedPoint)),o=(0,s.Fl)((()=>a.state.selectedCar)),n=(0,s.Fl)((()=>a.state.selectedRate)),E=(0,s.Fl)((()=>a.state.selectedColor)),_=(0,s.Fl)((()=>a.state.dateFrom)),u=(0,s.Fl)((()=>a.state.dateTo)),T=(0,s.Fl)((()=>a.state.priceSummary)),m=(0,s.Fl)((()=>a.state.selectedTank)),p=(0,s.Fl)((()=>a.state.selectedBabyChair)),C=(0,s.Fl)((()=>a.state.selectedRightHandDrive)),D=(0,s.Fl)((()=>a.state.rateList)),h=(0,s.Fl)((()=>D.value.reduce(((e,t)=>(t.id===n.value&&(e=t.rateTypeId.id),e)),""))),v=async()=>{try{await Ol.putOrder(i.value,{orderStatusId:l,cityId:c.value,pointId:d.value,carId:o.value,rateId:{id:n.value,rateType_id:h.value},color:E.value,dateFrom:_.value,dateTo:u.value,price:T.value,isFullTank:m.value,isNeedChildChair:p.value,isRightWheel:C.value})}catch(e){alert("Что-то пошло не так :-) "+e)}},g=()=>{v()},R=()=>{t.emit("close-popup")};return{orderId:i,errorStatus:r,getRateTypeId:h,selectedCity:c,selectedPoint:d,selectedCar:o,selectedRate:n,selectedColor:E,dateFrom:_,dateTo:u,priceSummary:T,selectedTank:m,selectedBabyChair:p,selectedRightHandDrive:C,confirmOrder:g,closePopUp:R}}};const Al=(0,w.Z)(wl,[["render",Rl]]);var Fl=Al,fl={name:"v-total",components:{PopUp:Fl},props:{tabs:{type:Array,required:!1},selectedId:{type:Number,required:!1},selectedTab:{type:String,required:!1}},setup(e,t){const a=(0,Fe.oR)(),l=[{id:"order-place",name:"Выбрать модель"},{id:"order-model",name:"Дополнительно"},{id:"order-additional",name:"Итого"},{id:"order-summary",name:"Заказать"}],i=(0,s.Fl)((()=>a.state.selectedCity)),r=(0,s.Fl)((()=>a.state.selectedPoint)),c=(0,s.Fl)((()=>a.state.selectedCar)),d=(0,s.Fl)((()=>a.state.selectedColor)),o=(0,s.Fl)((()=>a.state.dateFrom)),n=(0,s.Fl)((()=>a.state.dateTo)),E=(0,s.Fl)((()=>a.state.rentalDuration)),_=(0,s.Fl)((()=>a.state.rateList)),u=(0,s.Fl)((()=>a.state.selectedRate)),T=(0,s.Fl)((()=>a.state.selectedTank)),m=(0,s.Fl)((()=>a.state.selectedBabyChair)),p=(0,s.Fl)((()=>a.state.selectedRightHandDrive)),C=(0,s.Fl)((()=>_.value.reduce(((e,t)=>(t.id===u.value&&(e=t.rateTypeId.name),e)),""))),D=(0,s.Fl)((()=>{const e=2,t=1,l=3,s=500,i=200,r=1600,c=1,d=7,E=30,T=864e5,m=n.value-o.value;let p;return _.value.forEach((a=>{u.value===a.id&&u.value===e&&(m>=T&&m<d*T?p=k(a.price,c,m):O(),p=I(p,s,i,r)),u.value===a.id&&u.value===t&&(m===d*T?p=k(a.price,d,m):O(),p=I(p,s,i,r)),u.value===a.id&&u.value===l&&(m===E*T?p=k(a.price,E,m):O(),p=I(p,s,i,r))})),a.dispatch("GET_PRICESUMMARY",p),p})),h=(0,s.Fl)((()=>Object.keys(i.value).length&&0!==Object.keys(r.value).length)),v=(0,s.Fl)((()=>0!==Object.keys(c.value).length)),g=(0,s.Fl)((()=>o.value&&n.value&&u.value)),R=()=>{const a=e.tabs[e.selectedId+1].id;t.emit("updateSelectedTab",a)},b=()=>{const a=e.tabs[e.selectedId+2].id;t.emit("updateSelectedTab",a)},y=()=>{const a=e.tabs[e.selectedId+3].id;t.emit("updateSelectedTab",a)},I=(e,t,a,l)=>(T.value&&(e+=t),m.value&&(e+=a),p.value&&(e+=l),e),k=(e,t,a)=>{let l=null;l="string"===typeof e?+e:e;const s=l/(864e5*t),i=Math.round(a*s);return i},O=()=>{a.dispatch("GET_CHECKEDRATE"),a.dispatch("GET_CHECKEDTANK"),a.dispatch("GET_CHECKEDBABYCHAIR"),a.dispatch("GET_CHECKEDRIGHTHANDDRIVE"),alert("Выберите, пожалуйста, другой тариф или укажите другой диапазон времени")},w=t=>t.id===e.tabs[0].id?!h.value:t.id===e.tabs[1].id?!v.value:t.id===e.tabs[2].id?!g.value:void 0,A=t=>{t.id===e.tabs[0].id&&R(),t.id===e.tabs[1].id&&b(),t.id===e.tabs[2].id&&y(),t.id===e.tabs[3].id&&f()},F=(0,S.iH)(!0),f=()=>{F.value=!F.value,a.dispatch("POST_ORDER_TO_API")},L=()=>{F.value=!F.value};return{buttons:l,selectedCity:i,selectedPoint:r,selectedCar:c,selectedColor:d,dateStateFrom:o,dateStateTo:n,rentalDuration:E,rateList:_,selectedRate:u,selectedTank:T,selectedBabyChair:m,selectedRightHandDrive:p,getNameRate:C,getPriceSummary:D,orderPlaceFilledUp:h,orderModelFilledUp:v,orderAdditionalFilledUp:g,changeSelectedTabModel:R,changeSelectedTabAdditional:b,changeSelectedTabSummary:y,calcAddService:I,calcPrice:k,resetRateAndAdditional:O,popUpIsActive:F,showPopUp:f,closePopUp:L,isButtonDisabled:w,buttonAction:A}}};const Ll=(0,w.Z)(fl,[["render",pl]]);var Gl=Ll,Hl={name:"order-window",components:{VTabs:Ke,OrderPlace:ct,OrderModel:Gt,OrderAdditional:oa,OrderSummary:La,VTotal:Gl},setup(){const e=(0,Fe.oR)(),t=(0,S.iH)([{label:"Местоположение",id:"order-place",isDisabled:!0},{label:"Модель",id:"order-model",isDisabled:!0},{label:"Дополнительно",id:"order-additional",isDisabled:!0},{label:"Итого",id:"order-summary",isDisabled:!0}]),a=(0,S.iH)(0),l=(0,S.iH)("order-place"),i=(0,s.Fl)((()=>e.state.selectedCity)),r=(0,s.Fl)((()=>e.state.selectedPoint)),c=(0,s.Fl)((()=>e.state.selectedCar)),d=(0,s.Fl)((()=>e.state.selectedColor)),o=(0,s.Fl)((()=>e.state.dateFrom)),n=(0,s.Fl)((()=>e.state.dateTo)),E=(0,s.Fl)((()=>e.state.selectedRate)),_=(0,s.Fl)((()=>{const e=t.value.slice();return Object.keys(i.value).length&&0!==Object.keys(r.value).length&&"order-place"===l.value?(e[a.value].isDisabled=!1,e[a.value+1].isDisabled=!1,e):0!==Object.keys(c.value).length&&"order-model"===l.value?(e[a.value+2].isDisabled=!1,e):d.value&&o.value&&n.value&&E.value&&"order-additional"===l.value?(e[a.value+3].isDisabled=!1,e):e}));function u(e){l.value=e}function T(e){if("order-place"===e)for(var a=0;a<t.value.length;a++)t.value[a].isDisabled=!0;if("order-model"===e)for(var l=1;l<t.value.length;l++)t.value[l].isDisabled=!0;if("order-additional"===e)for(var s=2;s<t.value.length;s++)t.value[s].isDisabled=!0}return{tabs:t,selectedIndexTabs:a,selectedTab:l,filledUpData:_,selectedCity:i,selectedPoint:r,selectedCar:c,selectedColor:d,dateFrom:o,dateTo:n,selectedRate:E,updateSelectedTab:u,resetTabs:T}}};const Ml=(0,w.Z)(Hl,[["render",Ae]]);var Nl=Ml,Vl={name:"v-order",components:{Vheader:re,OrderWindow:Nl}};const Pl=(0,w.Z)(Vl,[["render",Ie]]);var Kl=Pl;const Yl=e=>((0,s.dD)("data-v-6448eb40"),e=e(),(0,s.Cn)(),e),Bl={class:"order-wrp"},xl={class:"tabs"},Ul={class:"tabs__border"},ql={class:"tab-list"},Wl=Yl((()=>(0,s._)("dt",{class:"tab__item"},"Заказ номер",-1))),jl={class:"tab__item"},zl={class:"order"},Zl={class:"order__window"},$l=Yl((()=>(0,s._)("p",{class:"order__title"},"Ваш заказ подтверждён",-1))),Xl={class:"summary__wrp"},Jl={key:0,class:"summary__car-name"},Ql={class:"car-number__wrp"},es={key:0,class:"summary__car-number"},ts={key:1,class:"summary__additional"},as=Yl((()=>(0,s._)("dt",{class:"summary__additional-title"},"Топливо",-1))),ls=Yl((()=>(0,s._)("dd",{class:"summary__selected-value"},"100%",-1))),ss=[as,ls],is={key:2,class:"summary__additional"},rs=Yl((()=>(0,s._)("dt",{class:"summary__additional-title"},"Детское кресло",-1))),cs=Yl((()=>(0,s._)("dd",{class:"summary__selected-value"},"Да",-1))),ds=[rs,cs],os={key:3,class:"summary__additional"},ns=Yl((()=>(0,s._)("dt",{class:"summary__additional-title"},"Правый руль",-1))),Es=Yl((()=>(0,s._)("dd",{class:"summary__selected-value"},"Да",-1))),_s=[ns,Es],us={class:"summary__additional"},Ts=Yl((()=>(0,s._)("dt",{class:"summary__additional-title"},"Доступна с",-1))),ms={class:"summary__selected-value"},ps=["src","alt"],Cs={class:"total"},Ds=Yl((()=>(0,s._)("p",{class:"total__title"},"Ваш заказ:",-1))),hs={class:"total__list"},vs=Yl((()=>(0,s._)("span",{class:"item__title"},"Пункт выдачи",-1))),gs={class:"item__value"},Rs={key:0},Ss={key:1},bs={key:0},ys=Yl((()=>(0,s._)("span",{class:"item__title"},"Модель",-1))),Is={class:"item__value"},ks={key:1},Os=Yl((()=>(0,s._)("span",{class:"item__title"},"Цвет",-1))),ws={class:"item__value"},As={key:2},Fs=Yl((()=>(0,s._)("span",{class:"item__title"},"Длительность аренд",-1))),fs={key:0,class:"item__value"},Ls={key:1,class:"item__value"},Gs={key:3},Hs=Yl((()=>(0,s._)("span",{class:"item__title"},"Тариф",-1))),Ms={class:"item__value"},Ns={key:4},Vs=Yl((()=>(0,s._)("span",{class:"item__title"},"Полный бак",-1))),Ps=Yl((()=>(0,s._)("span",{class:"item__value"},"Да",-1))),Ks=[Vs,Ps],Ys={key:5},Bs=Yl((()=>(0,s._)("span",{class:"item__title"},"Детское кресло",-1))),xs=Yl((()=>(0,s._)("span",{class:"item__value"},"Да",-1))),Us=[Bs,xs],qs={key:6},Ws=Yl((()=>(0,s._)("span",{class:"item__title"},"Правый руль",-1))),js=Yl((()=>(0,s._)("span",{class:"item__value"},"Да",-1))),zs=[Ws,js],Zs={class:"total__price"},$s=(0,s.Uk)(" Цена: "),Xs={class:"total__price total__price-thin"};function Js(e,t,a,l,i,r){const d=(0,s.up)("Vheader"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Bl,[(0,s.Wm)(d,{class:"order-center"}),(0,s._)("div",xl,[(0,s._)("div",Ul,[(0,s._)("dl",ql,[Wl,(0,s._)("dd",jl,(0,c.zw)(l.orderId),1)])]),(0,s._)("div",zl,[(0,s._)("div",Zl,[$l,(0,s._)("div",Xl,[(0,s._)("div",null,[l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("p",Jl,(0,c.zw)(l.orderConfirmed.carId.name),1)):(0,s.kq)("",!0),(0,s._)("div",Ql,[l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("p",es,(0,c.zw)(l.orderConfirmed.carId.number),1)):(0,s.kq)("",!0)]),l.orderConfirmed?.isFullTank?((0,s.wg)(),(0,s.iD)("dl",ts,ss)):(0,s.kq)("",!0),l.orderConfirmed?.isNeedChildChair?((0,s.wg)(),(0,s.iD)("dl",is,ds)):(0,s.kq)("",!0),l.orderConfirmed?.isRightWheel?((0,s.wg)(),(0,s.iD)("dl",os,_s)):(0,s.kq)("",!0),(0,s._)("dl",us,[Ts,(0,s._)("dd",ms,(0,c.zw)(l.convertToDate),1)])]),l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("img",{key:0,src:l.carPic.path,alt:l.carPic.originalname,class:"car__img"},null,8,ps)):(0,s.kq)("",!0)])]),(0,s._)("div",Cs,[Ds,(0,s._)("ul",hs,[(0,s._)("li",null,[vs,(0,s._)("div",gs,[l.orderConfirmed?.cityId?((0,s.wg)(),(0,s.iD)("span",Rs,(0,c.zw)(l.orderConfirmed.cityId.name),1)):(0,s.kq)("",!0),l.orderConfirmed?.pointId?((0,s.wg)(),(0,s.iD)("span",Ss,(0,c.zw)(l.orderConfirmed.pointId.name),1)):(0,s.kq)("",!0)])]),l.orderConfirmed?.carId?((0,s.wg)(),(0,s.iD)("li",bs,[ys,(0,s._)("span",Is,(0,c.zw)(l.orderConfirmed.carId.name),1)])):(0,s.kq)("",!0),l.orderConfirmed?.color?((0,s.wg)(),(0,s.iD)("li",ks,[Os,(0,s._)("span",ws,(0,c.zw)(l.orderConfirmed.color),1)])):(0,s.kq)("",!0),l.rentalDuration?((0,s.wg)(),(0,s.iD)("li",As,[Fs,l.rentalDuration.days?((0,s.wg)(),(0,s.iD)("span",fs,(0,c.zw)(l.rentalDuration.days)+"д",1)):(0,s.kq)("",!0),l.rentalDuration.hours?((0,s.wg)(),(0,s.iD)("span",Ls,(0,c.zw)(l.rentalDuration.hours)+"ч",1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),l.orderConfirmed?.rateId?((0,s.wg)(),(0,s.iD)("li",Gs,[Hs,(0,s._)("span",Ms,(0,c.zw)(l.getNameRate),1)])):(0,s.kq)("",!0),l.orderConfirmed?.isFullTank?((0,s.wg)(),(0,s.iD)("li",Ns,Ks)):(0,s.kq)("",!0),l.orderConfirmed?.isNeedChildChair?((0,s.wg)(),(0,s.iD)("li",Ys,Us)):(0,s.kq)("",!0),l.orderConfirmed?.isRightWheel?((0,s.wg)(),(0,s.iD)("li",qs,zs)):(0,s.kq)("",!0)]),(0,s._)("p",Zs,[$s,(0,s._)("span",Xs,(0,c.zw)(l.orderConfirmed.price)+" ₽",1)]),(0,s.Wm)(o,{to:{name:"v-order"}},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>l.cancelOrder&&l.cancelOrder(...e)),class:"total__button total__button_active button-colored"}," Отменить ")])),_:1})])])])])}var Qs={name:"order-confirm",components:{Vheader:re},setup(){const e=(0,Fe.oR)(),t={id:7,name:"Отмененный"},a=(0,s.Fl)((()=>e.state.orderId)),l=(0,s.Fl)((()=>e.state.rentalDuration)),i=(0,s.Fl)((()=>e.state.orderConfirmed)),r=(0,s.Fl)((()=>e.state.rateList)),c=(0,s.Fl)((()=>r.value.reduce(((e,t)=>(t.rateTypeId.id===i.value.rateId.rateType_id&&(e=t.rateTypeId.name),e)),""))),d=(0,s.Fl)((()=>{let e=null;e="string"===typeof i.value.dateFrom?+i.value.dateFrom:i.value.dateFrom;const t=new Date(e);let a=t.getDate();a<10&&(a="0"+a);let l=t.getMonth()+1;l<10&&(l="0"+l);let s=t.getFullYear();s<10&&(s="0"+s);let r=t.getHours();r<10&&(r="0"+r);let c=t.getMinutes();return c<10&&(c="0"+c),a+"."+l+"."+s+" "+r+":"+c})),o=(0,s.Fl)((()=>0!==Object.keys(i.value.carId.thumbnail).length?i.value.carId.thumbnail:{})),n=()=>e.dispatch("GET_ORDER_FROM_API"),E=async()=>{try{await Ol.putOrder(a.value,{orderStatusId:t,cityId:i.value.cityId,pointId:i.value.pointId,carId:i.value.carId,rateId:i.value.rateId,color:i.value.color,dateFrom:i.value.dateFrom,dateTo:i.value.dateTo,price:i.value.price,isFullTank:i.value.isFullTank,isNeedChildChair:i.value.isNeedChildChair,isRightWheel:i.value.isRightWheel})}catch(e){alert("Что-то пошло не так :-) "+e)}},_=()=>{E(),e.dispatch("GET_ORDERID"),e.dispatch("GET_ORDERCONFIRMED"),e.dispatch("GET_SELECTEDCITY"),e.dispatch("GET_SELECTEDPOINT"),e.dispatch("GET_CHECKEDCATEGORY"),e.dispatch("GET_SELECTEDCAR"),e.dispatch("GET_CHECKEDCOLOR"),e.dispatch("GET_SELECTEDDATEFROM"),e.dispatch("GET_SELECTEDTIMEFROM"),e.dispatch("GET_SELECTEDDATETO"),e.dispatch("GET_SELECTEDTIMETO"),e.dispatch("GET_RENTALDURATION"),e.dispatch("GET_CHECKEDRATE"),e.dispatch("GET_CHECKEDTANK"),e.dispatch("GET_CHECKEDBABYCHAIR"),e.dispatch("GET_CHECKEDRIGHTHANDDRIVE")};return n(),{orderId:a,rentalDuration:l,orderConfirmed:i,getNameRate:c,convertToDate:d,carPic:o,getOrderFromApi:n,putCancelOrderToApi:E,cancelOrder:_}}};const ei=(0,w.Z)(Qs,[["render",Js],["__scopeId","data-v-6448eb40"]]);var ti=ei;const ai=[{path:"/",name:"v-main",component:be},{path:"/order",name:"v-order",component:Kl},{path:"/order_:id",name:"v-orderid",component:ti}],li=(0,B.p7)({history:(0,B.PO)("/nfd_vue3/"),routes:ai});var si=li;a(1703);const ii=8;var ri=(0,Fe.MT)({state:{cityList:[],pointList:[],categoryList:[],cars:{},rateList:[],orderId:"",orderConfirmed:{},errorStatus:null,selectedCity:{},selectedPoint:{},checkedCategoryCars:"",selectedCar:{},selectedColor:"",chosenDateFromMs:0,chosenTimeFromMs:0,selectedDateFrom:"Введите дату и время...",selectedTimeFrom:"",chosenDateToMs:0,chosenTimeToMs:0,selectedDateTo:"Введите дату и время...",selectedTimeTo:"",dateFrom:0,dateTo:0,rentalDuration:"",selectedRate:null,selectedTank:!1,selectedBabyChair:!1,selectedRightHandDrive:!1,priceSummary:0},mutations:{SET_CITYLIST_TO_STATE:(e,t)=>{e.cityList=t.data.data},SET_POINTLIST_TO_STATE:(e,t)=>{e.pointList=t.data.data},SET_CATEGORYLIST_TO_STATE:(e,t)=>{e.categoryList=t,e.cars["no-filter"]={value:[],page:0},t.forEach((t=>{e.cars[t.id]={value:[],page:0}}))},SET_CARS_DATA:(e,{carsData:t,categoryId:a})=>{if(e.cars.count=t.data.count,a){const l=e.cars[a];l.value.push(...t.data.data),l.value.length<=t.data.count&&l.page++}else{const a=e.cars["no-filter"];a.value.push(...t.data.data),a.value.length<=t.data.count&&a.page++}},SET_RATE_TO_STATE:(e,t)=>{e.rateList=t.data.data},SET_ORDERID_TO_STATE:(e,t)=>{e.orderId=t.data.data.id},RESET_ORDERID_TO_STATE:e=>{e.orderId=""},SET_ORDERCONFIRMED_TO_STATE:(e,t)=>{e.orderConfirmed=t.data.data},RESET_ORDERCONFIRMED_TO_STATE:e=>{e.orderConfirmed={}},SET_ERRORSTATUS_TO_STATE:(e,t)=>{e.errorStatus=t},SET_SELECTEDCITY(e,t){e.selectedCity=t},RESET_SELECTEDCITY(e){e.selectedCity={}},SET_SELECTEDPOINT(e,t){e.selectedPoint=t},RESET_SELECTEDPOINT(e){e.selectedPoint={}},SET_CHECKEDCATEGORYCAR(e,t){e.checkedCategoryCars=t},RESET_CHECKEDCATEGORYCAR(e){e.checkedCategoryCars=""},SET_SELECTEDCAR(e,t){e.selectedCar=t},RESET_SELECTEDCAR(e){e.selectedCar={}},SET_SELECTEDCOLOR(e,t){e.selectedColor=t},RESET_SELECTEDCOLOR(e){e.selectedColor=""},SET_SELECTEDDATEFROM(e,t){e.chosenDateFromMs=t.value,e.selectedDateFrom=t.dateString,e.dateFrom=t.value},RESET_SELECTEDDATEFROM(e){e.chosenDateFromMs=0,e.selectedDateFrom="Введите дату и время...",e.dateFrom=0},SET_SELECTEDTIMEFROM(e,t){e.chosenTimeFromMs=t.value,e.selectedTimeFrom=t.dateString,e.dateFrom=e.dateFrom+t.value},RESET_SELECTEDTIMEFROM(e){e.chosenTimeFromMs=0,e.selectedTimeFrom="",e.dateFrom=0},SET_SELECTEDDATETO(e,t){e.chosenDateToMs=t.value,e.selectedDateTo=t.dateString,e.dateTo=t.value},RESET_SELECTEDDATETO(e){e.chosenDateToMs=0,e.selectedDateTo="Введите дату и время...",e.dateTo=0},SET_SELECTEDTIMETO(e,t){e.chosenTimeToMs=t.value,e.selectedTimeTo=t.dateString,e.dateTo=e.dateTo+t.value},RESET_SELECTEDTIMETO(e){e.chosenTimeToMs=0,e.selectedTimeTo="",e.dateTo=0},SET_RENTALDURATION(e,t){function a(e){let t=Math.floor(e/864e5);e-=864e5*t;let a=Math.floor(e/36e5);e-=36e5*a;let l=Math.floor(e/6e4);return{days:t,hours:a,minutes:l}}e.rentalDuration=a(t)},RESET_RENTALDURATION(e){e.rentalDuration=""},SET_SELECTEDRATE(e,t){e.selectedRate="string"===typeof t?+t:t},RESET_SELECTEDRATE(e){e.selectedRate=null},SET_SELECTEDTANK(e,t){e.selectedTank=t},RESET_SELECTEDTANK(e){e.selectedTank=!1},SET_SELECTEDBABYCHAIR(e,t){e.selectedBabyChair=t},RESET_SELECTEDBABYCHAIR(e){e.selectedBabyChair=!1},SET_SELECTEDRIGHTHANDDRIVE(e,t){e.selectedRightHandDrive=t},RESET_SELECTEDRIGHTHANDDRIVE(e){e.selectedRightHandDrive=!1},SET_PRICESUMMARY(e,t){e.priceSummary=t},RESET_PRICESUMMARY(e){e.priceSummary=0}},actions:{GET_CITYLIST_FROM_API({commit:e}){Ol.getCities().then((t=>(e("SET_CITYLIST_TO_STATE",t),t))).catch((e=>e))},GET_POINTLIST_FROM_API({commit:e}){Ol.getPoints().then((t=>(e("SET_POINTLIST_TO_STATE",t),t))).catch((e=>e))},async GET_CATEGORYLIST_FROM_API({commit:e}){try{const t=await Ol.getCategories();e("SET_CATEGORYLIST_TO_STATE",t.data.data)}catch(t){throw new Error(t)}},async GET_FILTEREDCARLIST_FROM_API({commit:e,state:t},a){try{if("no-filter"===a){const a=t.cars["no-filter"]?.page;if(t.cars.count){if(t.cars.count&&t.cars["no-filter"]?.value.length<t.cars.count){const t=await Ol.getCars({page:a,limit:ii});e("SET_CARS_DATA",{carsData:t})}}else{const t=await Ol.getCars({page:a,limit:ii});e("SET_CARS_DATA",{carsData:t})}}else{const l=t.cars[a]?.page;if(t.cars.count){if(t.cars.count&&t.cars[a]?.value.length<t.cars.count){const t=await Ol.getCars({categoryId:a,page:l,limit:ii});e("SET_CARS_DATA",{carsData:t,categoryId:a})}}else{const t=await Ol.getCars({categoryId:a,page:l,limit:ii});e("SET_CARS_DATA",{carsData:t,categoryId:a})}}}catch(l){throw new Error(l)}},async GET_RATE_FROM_API({commit:e}){try{const t=await Ol.getRate();e("SET_RATE_TO_STATE",t)}catch(t){throw new Error(t)}},async POST_ORDER_TO_API({commit:e,state:t}){const a=()=>t.rateList.reduce(((e,a)=>(a.id===t.selectedRate&&(e=a.rateTypeId.id),e)),"");try{const l=await Ol.postOrder({cityId:{id:t.selectedCity.id},pointId:{id:t.selectedPoint.id},carId:{id:t.selectedCar.id},color:t.selectedColor,dateFrom:t.dateFrom,dateTo:t.dateTo,rateId:{id:t.selectedRate,rateType_id:a()},price:t.priceSummary,isFullTank:t.selectedTank,isNeedChildChair:t.selectedBabyChair,isRightWheel:t.selectedRightHandDrive});e("SET_ORDERID_TO_STATE",l)}catch(l){e("SET_ERRORSTATUS_TO_STATE",l)}},async GET_ORDER_FROM_API({commit:e,state:t}){try{const a=await Ol.getOrder(t.orderId);e("SET_ORDERCONFIRMED_TO_STATE",a)}catch(a){throw new Error(a)}},GET_SELECTEDCITY({commit:e},t){t?e("SET_SELECTEDCITY",t):e("RESET_SELECTEDCITY")},GET_SELECTEDPOINT({commit:e},t){t?e("SET_SELECTEDPOINT",t):e("RESET_SELECTEDPOINT")},GET_CHECKEDCATEGORY({commit:e},t){t?e("SET_CHECKEDCATEGORYCAR",t):e("RESET_CHECKEDCATEGORYCAR")},GET_SELECTEDCAR({commit:e},t){t?e("SET_SELECTEDCAR",t):e("RESET_SELECTEDCAR")},GET_CHECKEDCOLOR({commit:e},t){t?e("SET_SELECTEDCOLOR",t):e("RESET_SELECTEDCOLOR")},GET_SELECTEDDATEFROM({commit:e},t){t?e("SET_SELECTEDDATEFROM",t):e("RESET_SELECTEDDATEFROM")},GET_SELECTEDTIMEFROM({commit:e},t){t?e("SET_SELECTEDTIMEFROM",t):e("RESET_SELECTEDTIMEFROM")},GET_SELECTEDDATETO({commit:e},t){t?e("SET_SELECTEDDATETO",t):e("RESET_SELECTEDDATETO")},GET_SELECTEDTIMETO({commit:e},t){t?e("SET_SELECTEDTIMETO",t):e("RESET_SELECTEDTIMETO")},GET_RENTALDURATION({commit:e},t){t?e("SET_RENTALDURATION",t):e("RESET_RENTALDURATION")},GET_CHECKEDRATE({commit:e},t){t?e("SET_SELECTEDRATE",t):e("RESET_SELECTEDRATE")},GET_CHECKEDTANK({commit:e},t){t?e("SET_SELECTEDTANK",t):e("RESET_SELECTEDTANK")},GET_CHECKEDBABYCHAIR({commit:e},t){t?e("SET_SELECTEDBABYCHAIR",t):e("RESET_SELECTEDBABYCHAIR")},GET_CHECKEDRIGHTHANDDRIVE({commit:e},t){t?e("SET_SELECTEDRIGHTHANDDRIVE",t):e("RESET_SELECTEDRIGHTHANDDRIVE")},GET_PRICESUMMARY({commit:e},t){t?e("SET_PRICESUMMARY",t):e("RESET_PRICESUMMARY")},GET_ORDERID({commit:e},t){t?e("SET_ORDERID_TO_STATE",t):e("RESET_ORDERID_TO_STATE")},GET_ORDERCONFIRMED({commit:e},t){t?e("SET_ORDERCONFIRMED_TO_STATE",t):e("RESET_ORDERCONFIRMED_TO_STATE")}},getters:{FILTERED_POINTLIST(e){if(0!==Object.keys(e.selectedCity).length&&e.selectedCity?.id)return e.pointList.filter((t=>{if(t?.cityId?.id)return t.cityId.id===e.selectedCity.id}));{const e=[];return e}},FILTERED_CARSDATA_BY_CATEGORY:e=>t=>"no-filter"===t?e.cars["no-filter"]?.value:e.cars[t]?.value.filter((e=>{if(e?.categoryId?.id)return e.categoryId.id==t}))}});(0,l.ri)(Y).use(ri).use(si).mount("#app")},4273:function(e,t,a){e.exports=a.p+"img/map-marker.2d9af2fe.svg"},7795:function(e,t,a){e.exports=a.p+"img/sprite.344b0cfb.svg"},715:function(e,t,a){e.exports=a.p+"img/slide_insurance.0560f4c6.jpg"},3828:function(e,t,a){e.exports=a.p+"img/slide_parking.264e8bce.jpg"},8983:function(e,t,a){e.exports=a.p+"img/slide_petrol.2321050a.jpg"},3849:function(e,t,a){e.exports=a.p+"img/slide_service.bef68e53.jpg"}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,i){if(!l){var r=1/0;for(n=0;n<e.length;n++){l=e[n][0],s=e[n][1],i=e[n][2];for(var c=!0,d=0;d<l.length;d++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](l[d])}))?l.splice(d--,1):(c=!1,i<r&&(r=i));if(c){e.splice(n--,1);var o=s();void 0!==o&&(t=o)}}return t}i=i||0;for(var n=e.length;n>0&&e[n-1][2]>i;n--)e[n]=e[n-1];e[n]=[l,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/nfd_vue3/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,i,r=l[0],c=l[1],d=l[2],o=0;if(r.some((function(t){return 0!==e[t]}))){for(s in c)a.o(c,s)&&(a.m[s]=c[s]);if(d)var n=d(a)}for(t&&t(l);o<r.length;o++)i=r[o],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(n)},l=self["webpackChunkneed_for_drive_vue3"]=self["webpackChunkneed_for_drive_vue3"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(5456)}));l=a.O(l)})();
//# sourceMappingURL=app.3daf3bc0.js.map